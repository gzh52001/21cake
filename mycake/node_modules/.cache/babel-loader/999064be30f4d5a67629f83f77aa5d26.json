{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\n\nvar Cascader = function (_React$Component) {\n  _inherits(Cascader, _React$Component);\n\n  function Cascader() {\n    _classCallCheck(this, Cascader);\n\n    var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n    _this.state = {\n      value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n    };\n\n    _this.onValueChange = function (value, index) {\n      var children = arrayTreeFilter(_this.props.data, function (c, level) {\n        return level <= index && c.value === value[level];\n      });\n      var data = children[index];\n      var i = void 0;\n\n      for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n        data = data.children[0];\n        value[i] = data.value;\n      }\n\n      value.length = i;\n\n      _this.setState({\n        value: value\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Cascader, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: this.getValue(nextProps.data, nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(d, val) {\n      var data = d || this.props.data;\n      var value = val || this.props.value || this.props.defaultValue;\n\n      if (!value || !value.length || value.indexOf(undefined) > -1) {\n        value = [];\n\n        for (var i = 0; i < this.props.cols; i++) {\n          if (data && data.length) {\n            value[i] = data[0].value;\n            data = data[0].children;\n          }\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: 'getCols',\n    value: function getCols() {\n      var _props = this.props,\n          data = _props.data,\n          cols = _props.cols,\n          pickerPrefixCls = _props.pickerPrefixCls,\n          disabled = _props.disabled,\n          pickerItemStyle = _props.pickerItemStyle,\n          indicatorStyle = _props.indicatorStyle;\n      var value = this.state.value;\n      var childrenTree = arrayTreeFilter(data, function (c, level) {\n        return c.value === value[level];\n      }).map(function (c) {\n        return c.children;\n      });\n      var needPad = cols - childrenTree.length;\n\n      if (needPad > 0) {\n        for (var i = 0; i < needPad; i++) {\n          childrenTree.push([]);\n        }\n      }\n\n      childrenTree.length = cols - 1;\n      childrenTree.unshift(data);\n      return childrenTree.map(function () {\n        var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var level = arguments[1];\n        return React.createElement(Picker, {\n          key: level,\n          prefixCls: pickerPrefixCls,\n          style: {\n            flex: 1\n          },\n          disabled: disabled,\n          itemStyle: pickerItemStyle,\n          indicatorStyle: indicatorStyle\n        }, children.map(function (item) {\n          return React.createElement(Picker.Item, {\n            value: item.value,\n            key: item.value\n          }, item.label);\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var prefixCls = props.prefixCls,\n          className = props.className,\n          rootNativeProps = props.rootNativeProps,\n          style = props.style;\n      var cols = this.getCols();\n\n      var multiStyle = _extends({\n        flexDirection: 'row',\n        alignItems: 'center'\n      }, style);\n\n      return React.createElement(MultiPicker, {\n        style: multiStyle,\n        prefixCls: prefixCls,\n        className: className,\n        selectedValue: this.state.value,\n        rootNativeProps: rootNativeProps,\n        onValueChange: this.onValueChange,\n        onScrollChange: props.onScrollChange\n      }, cols);\n    }\n  }]);\n\n  return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n  cols: 3,\n  prefixCls: 'rmc-cascader',\n  pickerPrefixCls: 'rmc-picker',\n  data: [],\n  disabled: false\n};\nexport default Cascader;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/rmc-cascader/es/Cascader.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","arrayTreeFilter","MultiPicker","Picker","Cascader","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","state","value","getValue","props","data","defaultValue","onValueChange","index","children","c","level","i","length","cols","setState","onChange","key","componentWillReceiveProps","nextProps","d","val","indexOf","undefined","getCols","_props","pickerPrefixCls","disabled","pickerItemStyle","indicatorStyle","childrenTree","map","needPad","push","unshift","createElement","prefixCls","style","flex","itemStyle","item","Item","label","render","className","rootNativeProps","multiStyle","flexDirection","alignItems","selectedValue","onScrollChange","Component","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\n\nvar Cascader = function (_React$Component) {\n    _inherits(Cascader, _React$Component);\n\n    function Cascader() {\n        _classCallCheck(this, Cascader);\n\n        var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n        _this.state = {\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n        };\n        _this.onValueChange = function (value, index) {\n            var children = arrayTreeFilter(_this.props.data, function (c, level) {\n                return level <= index && c.value === value[level];\n            });\n            var data = children[index];\n            var i = void 0;\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n                data = data.children[0];\n                value[i] = data.value;\n            }\n            value.length = i;\n            _this.setState({ value: value });\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Cascader, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: this.getValue(nextProps.data, nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue(d, val) {\n            var data = d || this.props.data;\n            var value = val || this.props.value || this.props.defaultValue;\n            if (!value || !value.length || value.indexOf(undefined) > -1) {\n                value = [];\n                for (var i = 0; i < this.props.cols; i++) {\n                    if (data && data.length) {\n                        value[i] = data[0].value;\n                        data = data[0].children;\n                    }\n                }\n            }\n            return value;\n        }\n    }, {\n        key: 'getCols',\n        value: function getCols() {\n            var _props = this.props,\n                data = _props.data,\n                cols = _props.cols,\n                pickerPrefixCls = _props.pickerPrefixCls,\n                disabled = _props.disabled,\n                pickerItemStyle = _props.pickerItemStyle,\n                indicatorStyle = _props.indicatorStyle;\n\n            var value = this.state.value;\n            var childrenTree = arrayTreeFilter(data, function (c, level) {\n                return c.value === value[level];\n            }).map(function (c) {\n                return c.children;\n            });\n                        var needPad = cols - childrenTree.length;\n            if (needPad > 0) {\n                for (var i = 0; i < needPad; i++) {\n                    childrenTree.push([]);\n                }\n            }\n            childrenTree.length = cols - 1;\n            childrenTree.unshift(data);\n            return childrenTree.map(function () {\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var level = arguments[1];\n                return React.createElement(Picker, { key: level, prefixCls: pickerPrefixCls, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle }, children.map(function (item) {\n                    return React.createElement(Picker.Item, { value: item.value, key: item.value }, item.label);\n                }));\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var props = this.props;\n            var prefixCls = props.prefixCls,\n                className = props.className,\n                rootNativeProps = props.rootNativeProps,\n                style = props.style;\n\n            var cols = this.getCols();\n            var multiStyle = _extends({ flexDirection: 'row', alignItems: 'center' }, style);\n            return React.createElement(MultiPicker, { style: multiStyle, prefixCls: prefixCls, className: className, selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange }, cols);\n        }\n    }]);\n\n    return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n    cols: 3,\n    prefixCls: 'rmc-cascader',\n    pickerPrefixCls: 'rmc-picker',\n    data: [],\n    disabled: false\n};\nexport default Cascader;"]},"metadata":{},"sourceType":"module"}