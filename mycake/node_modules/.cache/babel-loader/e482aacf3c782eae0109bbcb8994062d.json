{"ast":null,"code":"var _jsxFileName = \"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\src\\\\pages\\\\Shopcar\\\\index.js\";\nimport React, { Component } from 'react';\nimport { NavBar } from 'antd-mobile';\nimport { withRouter } from 'react-router-dom';\nimport './shopcar.css';\nimport http from '../../utils/http';\n\nclass Shopcar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tabs: [{\n        title: '蛋糕',\n        sub: '1'\n      }, {\n        title: '冰淇淋',\n        sub: '2'\n      }, {\n        title: '咖啡下午茶',\n        sub: '3'\n      }, {\n        title: '面包',\n        sub: '4'\n      }, {\n        title: '常温蛋糕',\n        sub: '5'\n      }, {\n        title: '设计师礼品',\n        sub: '6'\n      }],\n      goodslist: null,\n      // navbar:'',\n      val: 3\n    };\n\n    this.showdatalist = datalist => {// console.log(datalist);\n    };\n\n    this.goto = path => {\n      this.props.history.push(path);\n    };\n\n    this.onChange = val => {\n      // console.log(val);\n      this.setState({\n        val\n      });\n    };\n\n    this.gogoods = () => {\n      // console.log(this.state.goodslist);\n      // if(this.state.goodslist.length){\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NavBar, {\n        mode: \"light\",\n        className: \"bottom-addcart-button\",\n        leftContent: [/*#__PURE__*/React.createElement(\"a\", {\n          key: \"0\",\n          className: \"order-delete-but user-behavior-tj-analysis\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }\n        })],\n        rightContent: [/*#__PURE__*/React.createElement(\"a\", {\n          key: \"0\",\n          className: \"place-order-but\",\n          onClick: this.openchange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }\n        }, \"\\u53BB\\u7ED3\\u7B97\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pay-money\",\n        id: \"cart-total-amount\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"guodudiv\",\n        style: {\n          float: 'right',\n          height: '100%',\n          textAlign: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }, \"\\xA5\", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, \"999.00\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, \"\\u5546\\u54C1\")))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"cart-top-tip\",\n        id: \"top-notice\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"\\xB7 \\u6EE1100\\u5143\\u514D\\u914D\\u9001\\u670D\\u52A1\\u8D39 \\xB7\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"cart-pro-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"cart-object-goods-item scene_area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cart-pro-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://static.21cake.com/public/images/f5/5d/b7/b83cb087b6a4c85a2a88cc73f8811853.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cart-pro-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 45\n        }\n      }, \"Framboise Cake\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 45\n        }\n      }, \"\\u8513\\u751F\"))), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cart-select-pound\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 37\n        }\n      }, \"\\u89C4\\u683C\\uFF1A908g(2.0\\u78C5)\", /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cart-price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 37\n        }\n      }, \"\\uFFE5596.00\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cart-pro-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"action-quantity-minus user-behavior-tj-analysis\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://static.21cake.com//themes/wap/img/-.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"quantity \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, \"5\"), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"action-quantity-plus user-behavior-tj-analysis\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://static.21cake.com/themes/wap/img/+.png\",\n        alt: \"+\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"laid-count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 29\n        }\n      }, \"\\u6BCF\\u4EFD\\u542B\\u514D\\u8D39\\u9910\\u517710\\u5957\"), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"birthday-brand\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      }, \"+\\u6DFB\\u52A0\\u751F\\u65E5\\u724C\")))); //     }else{\n      //         console.log(2222222222);\n      //         return (\n      //                 <div className='emptygood'>\n      //                     <img src='https://static.21cake.com/themes/wap/img/cart-empty.png'></img>\n      //                     <p>您的购物车里还没有商品</p>\n      //                     <a onClick={this.goto.bind(null,'/home')}>去购物....</a>\n      //                 </div>\n      //             )\n      //    }\n    };\n  }\n\n  componentDidMount() {\n    //获取数据\n    http.get('/shopcar/getgoods', {\n      name: 'pdx'\n    }).then(res => {\n      //渲染\n      this.showdatalist(res.data.p); // console.log(res.data.p);\n\n      let list = res.data.p; //用一个数组来存处理后的数据，因为weight1234分别对应不同规格的，所以每种规格都算一种商品\n\n      let datalist = [];\n\n      for (var i = 0; i < list.length; i++) {\n        // console.log(list[i]);//每一条数据\n        //每一条数据里面weight1234有值的\n        if (list[i].weight1 > 0) {\n          let smallist = {}; //用来存每条小数据的内容\n\n          smallist.gid = list[i].gid;\n          smallist.cname = list[i].cname;\n          smallist.ename = list[i].ename;\n          smallist.img = list[i].img;\n          smallist.price = list[i].price;\n          smallist.weight = '454g(1.0磅)';\n          datalist.push(smallist);\n        }\n\n        if (list[i].weight2 > 0) {\n          let smallist = {}; //用来存每条小数据的内容\n\n          smallist.gid = list[i].gid;\n          smallist.cname = list[i].cname;\n          smallist.ename = list[i].ename;\n          smallist.img = list[i].img;\n          smallist.price = list[i].price;\n          smallist.weight = '908g(2.0磅)';\n          datalist.push(smallist);\n        }\n\n        if (list[i].weight3 > 0) {\n          let smallist = {}; //用来存每条小数据的内容\n\n          smallist.gid = list[i].gid;\n          smallist.cname = list[i].cname;\n          smallist.ename = list[i].ename;\n          smallist.img = list[i].img;\n          smallist.price = list[i].price;\n          smallist.weight = '1362g(3.0磅)';\n          datalist.push(smallist);\n        }\n\n        if (list[i].weight4 > 0) {\n          let smallist = {}; //用来存每条小数据的内容\n\n          smallist.gid = list[i].gid;\n          smallist.cname = list[i].cname;\n          smallist.ename = list[i].ename;\n          smallist.img = list[i].img;\n          smallist.price = list[i].price;\n          smallist.weight = '1816g(4.0磅)';\n          datalist.push(smallist);\n        }\n      }\n\n      console.log(datalist);\n      this.setState({\n        goodslist: datalist\n      });\n      this.gogoods();\n    });\n  } //\n\n\n  render() {\n    //要设一个常量来接收，不然会提示不是render里面的不能渲染\n    const {\n      goodslist\n    } = this.state; // console.log(goodslist);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shopcar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, goodslist ? this.showdatalist() : null);\n  }\n\n}\n\nShopcar = withRouter(Shopcar);\nexport default Shopcar;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/src/pages/Shopcar/index.js"],"names":["React","Component","NavBar","withRouter","http","Shopcar","state","tabs","title","sub","goodslist","val","showdatalist","datalist","goto","path","props","history","push","onChange","setState","gogoods","openchange","float","height","textAlign","componentDidMount","get","name","then","res","data","p","list","i","length","weight1","smallist","gid","cname","ename","img","price","weight","weight2","weight3","weight4","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { NavBar,} from 'antd-mobile';\r\nimport {withRouter} from 'react-router-dom';\r\nimport './shopcar.css'\r\nimport http from '../../utils/http'\r\n\r\n\r\nclass Shopcar extends Component {\r\n    state={\r\n        tabs:[\r\n                { title: '蛋糕', sub: '1' },\r\n                { title: '冰淇淋', sub: '2' },\r\n                { title: '咖啡下午茶', sub: '3' },\r\n                { title: '面包', sub: '4' },\r\n                { title: '常温蛋糕', sub: '5' },\r\n                { title: '设计师礼品', sub: '6' },\r\n            ],\r\n        goodslist:null,\r\n        // navbar:'',\r\n        val: 3,\r\n    }\r\n    componentDidMount(){\r\n        //获取数据\r\n        http.get('/shopcar/getgoods',{name:'pdx'}).then(res=>{\r\n            //渲染\r\n            this.showdatalist(res.data.p)\r\n            // console.log(res.data.p);\r\n            let list = res.data.p\r\n            //用一个数组来存处理后的数据，因为weight1234分别对应不同规格的，所以每种规格都算一种商品\r\n            let datalist=[];\r\n            \r\n            for(var i=0;i<list.length;i++){\r\n                // console.log(list[i]);//每一条数据\r\n                    //每一条数据里面weight1234有值的\r\n                    if(list[i].weight1>0){\r\n                        let smallist={};//用来存每条小数据的内容\r\n                        smallist.gid=list[i].gid\r\n                        smallist.cname=list[i].cname\r\n                        smallist.ename=list[i].ename\r\n                        smallist.img=list[i].img\r\n                        smallist.price=list[i].price\r\n                        smallist.weight='454g(1.0磅)'\r\n                        datalist.push(smallist)\r\n                    }\r\n                    if(list[i].weight2>0){\r\n                        let smallist={};//用来存每条小数据的内容\r\n                        smallist.gid=list[i].gid\r\n                        smallist.cname=list[i].cname\r\n                        smallist.ename=list[i].ename\r\n                        smallist.img=list[i].img\r\n                        smallist.price=list[i].price\r\n                        smallist.weight='908g(2.0磅)'\r\n                        datalist.push(smallist)\r\n                    }\r\n                    if(list[i].weight3>0){\r\n                        let smallist={};//用来存每条小数据的内容\r\n                        smallist.gid=list[i].gid\r\n                        smallist.cname=list[i].cname\r\n                        smallist.ename=list[i].ename\r\n                        smallist.img=list[i].img\r\n                        smallist.price=list[i].price\r\n                        smallist.weight='1362g(3.0磅)'\r\n                        datalist.push(smallist)\r\n                    }\r\n                    if(list[i].weight4>0){\r\n                        let smallist={};//用来存每条小数据的内容\r\n                        smallist.gid=list[i].gid\r\n                        smallist.cname=list[i].cname\r\n                        smallist.ename=list[i].ename\r\n                        smallist.img=list[i].img\r\n                        smallist.price=list[i].price\r\n                        smallist.weight='1816g(4.0磅)'\r\n                        datalist.push(smallist)\r\n                    }\r\n            }\r\n            console.log(datalist);\r\n            this.setState({goodslist:datalist})\r\n            this.gogoods();\r\n        })\r\n    }\r\n    //\r\n    showdatalist=(datalist)=>{\r\n        // console.log(datalist);\r\n    }\r\n    goto=(path)=>{\r\n        this.props.history.push(path);\r\n    }\r\n    //改变数量\r\n    onChange = (val) => {\r\n        // console.log(val);\r\n        this.setState({ val });\r\n      }\r\n    //判断有没有商品，如果没有商品就渲染空页面，有就渲染出来\r\n    gogoods=()=>{\r\n        // console.log(this.state.goodslist);\r\n        // if(this.state.goodslist.length){\r\n            return (\r\n                <div>\r\n                    {/* 底部 */}\r\n                    <NavBar\r\n                    mode=\"light\"\r\n                    className='bottom-addcart-button'\r\n                    leftContent={[\r\n                        <a key='0' className='order-delete-but user-behavior-tj-analysis' ></a>\r\n                    ]}\r\n                    rightContent={[\r\n                        <a key='0' className='place-order-but'  onClick={this.openchange}>去结算</a>\r\n                    ]}>\r\n                    <div className='pay-money' id='cart-total-amount'>\r\n                        <div className='guodudiv' style={{float:'right',height:'100%',textAlign:'right'}}>¥\r\n                            <span>999.00</span>\r\n                            <span>商品</span>\r\n                        </div>\r\n                    </div>\r\n                    </NavBar>\r\n                    <p className='cart-top-tip' id='top-notice'>\r\n                    · 满100元免配送服务费 ·\r\n                    </p>\r\n                    <ul className='cart-pro-list'>\r\n                        <li className='cart-object-goods-item scene_area'>\r\n                            <div className='cart-pro-box'>\r\n                                <a>\r\n                                    <img src='https://static.21cake.com/public/images/f5/5d/b7/b83cb087b6a4c85a2a88cc73f8811853.jpg'></img>\r\n                                </a>\r\n                                <div className='cart-pro-title'>\r\n                                    <div>\r\n                                        <h2>\r\n                                            <span>Framboise Cake</span>\r\n                                            <span>蔓生</span>\r\n                                        </h2>\r\n                                    </div>\r\n                                    <span className='cart-select-pound'>\r\n                                        规格：908g(2.0磅)\r\n                                        <i></i>\r\n                                    </span>\r\n                                    <span className='cart-price'>\r\n                                        ￥596.00\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div className='cart-pro-number'>\r\n                                <a className='action-quantity-minus user-behavior-tj-analysis'>\r\n                                    <img src='https://static.21cake.com//themes/wap/img/-.png'></img>\r\n                                </a>\r\n                                <span className='quantity '>5</span>\r\n                                <a className='action-quantity-plus user-behavior-tj-analysis'>\r\n                                    <img src='https://static.21cake.com/themes/wap/img/+.png' alt='+'></img>\r\n                                </a>\r\n                            </div>\r\n                            <p className='laid-count'>每份含免费餐具10套</p>\r\n                            <a className='birthday-brand'>+添加生日牌</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>)\r\n    //     }else{\r\n    //         console.log(2222222222);\r\n    //         return (\r\n    //                 <div className='emptygood'>\r\n    //                     <img src='https://static.21cake.com/themes/wap/img/cart-empty.png'></img>\r\n    //                     <p>您的购物车里还没有商品</p>\r\n    //                     <a onClick={this.goto.bind(null,'/home')}>去购物....</a>\r\n    //                 </div>\r\n    //             )\r\n    //    }\r\n    }\r\n    render() {\r\n        //要设一个常量来接收，不然会提示不是render里面的不能渲染\r\n        const {goodslist} =this.state;\r\n        // console.log(goodslist);\r\n        return (\r\n            <div className='shopcar'>\r\n                {/* {this.state.navbar} */}\r\n                {/* 这里不能写bind的，不然会报错 */}\r\n                {goodslist ? this.showdatalist() : null}\r\n                {/* {this.goodslist.bind(null,1) ?  navbar : <div>想屁吃</div>} */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nShopcar = withRouter(Shopcar)\r\nexport default Shopcar\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}