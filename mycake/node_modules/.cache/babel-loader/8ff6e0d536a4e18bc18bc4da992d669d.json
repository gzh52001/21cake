{"ast":null,"code":"import _classCallCheck from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";//登录页面\nimport React,{Component}from'react';import'./sign.css';import'./base.css';import http from'../../utils/http';import{withRouter}from'react-router-dom';var Sign=/*#__PURE__*/function(_Component){_inherits(Sign,_Component);var _super=_createSuper(Sign);function Sign(){var _this;_classCallCheck(this,Sign);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.goto=function(path){_this.props.history.push(path);};_this.serr1=function(){var spho=document.getElementsByClassName(\"spho\")[0].value;var rule1=/^[1][3,4,5,7,8][0-9]{9}$/;if(rule1.test(spho)==false){document.getElementsByClassName(\"errmsg-pho\")[0].style.display=\"block\";document.getElementsByClassName(\"errmsg-pas1\")[0].style.display=\"none\";}else{document.getElementsByClassName(\"errmsg-pho\")[0].style.display=\"none\";}};_this.serr2=function(){var spsw=document.getElementsByClassName(\"spsw\")[0].value;var rule1=/^[a-zA-Z\\d!@#$%^&*]{8,20}$/;if(rule1.test(spsw)==false){document.getElementsByClassName(\"errmsg-pho\")[0].style.display=\"none\";document.getElementsByClassName(\"errmsg-pas1\")[0].style.display=\"block\";}else{document.getElementsByClassName(\"errmsg-pas1\")[0].style.display=\"none\";}};_this.enter=function(event){if(event.keyCode==13){_this.sign();}};_this.sign=function(){var spho=document.getElementsByClassName(\"spho\")[0].value;var spsw=document.getElementsByClassName(\"spsw\")[0].value;console.log(spho,spsw);var props=_this.props;http.get('/user/login',{username:spho,psw:spsw}).then(function(res){console.log(res);if(res.flag==true){localStorage.setItem('phone',spho);localStorage.setItem('psw',spsw);localStorage.setItem('token',res.data.token);setTimeout(alert(\"登录成功\"),1000);_this.props.history.push('/person');}else{alert(\"登录失败，用户名或密码错误\");}});};return _this;}_createClass(Sign,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(this.props);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"sign-box\"},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u624B\\u673A\\u53F7\\u7801\\u767B\\u5F55\"),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"spho\",onBlur:this.serr1,type:\"text\",placeholder:\"\\u624B\\u673A\\u53F7\\u7801\"})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"spsw\",onBlur:this.serr2,onKeyDown:this.enter,type:\"password\",placeholder:\"\\u586B\\u5199\\u5BC6\\u7801\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"erroBox\"},/*#__PURE__*/React.createElement(\"p\",{className:\"errmsg-pho\"},/*#__PURE__*/React.createElement(\"i\",null),\" \\xA0 \\u8BF7\\u8F93\\u5165\\u6B63\\u786E\\u624B\\u673A\\u53F7\\u7801\"),/*#__PURE__*/React.createElement(\"p\",{className:\"errmsg-pas1\"},/*#__PURE__*/React.createElement(\"i\",null),\" \\xA0 \\u8BF7\\u8F93\\u5165\\u6B63\\u786E\\u5BC6\\u7801\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.sign},\"\\u767B\\u5F55\")),/*#__PURE__*/React.createElement(\"div\",{className:\"gotoLogin\"},/*#__PURE__*/React.createElement(\"a\",{onClick:this.goto.bind(null,'/login')},\"\\u53BB\\u6CE8\\u518C\"))));}}]);return Sign;}(Component);Sign=withRouter(Sign);export default Sign;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/src/pages/sign/index.js"],"names":["React","Component","http","withRouter","Sign","goto","path","props","history","push","serr1","spho","document","getElementsByClassName","value","rule1","test","style","display","serr2","spsw","enter","event","keyCode","sign","console","log","get","username","psw","then","res","flag","localStorage","setItem","data","token","setTimeout","alert","bind"],"mappings":"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","sourcesContent":["//登录页面\r\nimport React, { Component } from 'react';\r\nimport './sign.css';\r\nimport './base.css';\r\nimport http from '../../utils/http';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass Sign extends Component{\r\n\r\n    componentDidMount(){\r\n        console.log(this.props);\r\n    }\r\n\r\n    goto = (path)=>{\r\n        this.props.history.push(path);\r\n    }\r\n\r\n\r\n    //两个正则提示的判断函数\r\n    serr1 = ()=>{\r\n        let spho = document.getElementsByClassName(\"spho\")[0].value;\r\n        let rule1 = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n        if(rule1.test(spho)==false){\r\n            document.getElementsByClassName(\"errmsg-pho\")[0].style.display = \"block\";\r\n            document.getElementsByClassName(\"errmsg-pas1\")[0].style.display = \"none\";\r\n        }else{\r\n            document.getElementsByClassName(\"errmsg-pho\")[0].style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    serr2 = ()=>{\r\n        let spsw = document.getElementsByClassName(\"spsw\")[0].value;\r\n        let rule1 = /^[a-zA-Z\\d!@#$%^&*]{8,20}$/;\r\n        if(rule1.test(spsw)==false){\r\n            document.getElementsByClassName(\"errmsg-pho\")[0].style.display = \"none\";\r\n            document.getElementsByClassName(\"errmsg-pas1\")[0].style.display = \"block\";\r\n        }else{\r\n            document.getElementsByClassName(\"errmsg-pas1\")[0].style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    //在密码栏按下回车按钮事件\r\n    enter=(event)=>{\r\n        if(event.keyCode ==13){\r\n            this.sign()\r\n        }\r\n    }\r\n\r\n    //点击登录按钮事件\r\n    sign=()=>{\r\n        let spho = document.getElementsByClassName(\"spho\")[0].value;\r\n        let spsw = document.getElementsByClassName(\"spsw\")[0].value;\r\n        \r\n        console.log(spho,spsw);\r\n        \r\n        let props=this.props;\r\n        http.get('/user/login',{username:spho,psw:spsw}).then((res)=>{\r\n            console.log(res);\r\n            if(res.flag ==true){\r\n                \r\n                localStorage.setItem('phone',spho);\r\n                localStorage.setItem('psw',spsw);\r\n                localStorage.setItem('token',res.data.token);\r\n                setTimeout( alert(\"登录成功\"), 1000);\r\n                this.props.history.push('/person');\r\n                \r\n            }else{\r\n                alert(\"登录失败，用户名或密码错误\");\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"sign-box\">\r\n                <h2>手机号码登录</h2>\r\n                <ul>\r\n                    <li>\r\n                         <input className=\"spho\" onBlur={this.serr1} type=\"text\" placeholder=\"手机号码\"/>\r\n                        {/* <!-- 隐藏边框：style border：none --> */}\r\n                    </li>\r\n                    <li>\r\n                        <input className=\"spsw\" onBlur={this.serr2} onKeyDown={this.enter} type=\"password\" placeholder=\"填写密码\"/>\r\n                    </li>\r\n                    <div className=\"erroBox\">\r\n                            <p className=\"errmsg-pho\"><i></i> &nbsp; 请输入正确手机号码</p>\r\n                            <p className=\"errmsg-pas1\"><i></i> &nbsp; 请输入正确密码</p>\r\n                        </div>\r\n                    <li>\r\n                        <button onClick={this.sign}>登录</button>\r\n                    </li>\r\n                    <div className=\"gotoLogin\">\r\n                        <a  onClick = {this.goto.bind(null,'/login')}>去注册</a>\r\n                    </div>\r\n                </ul>\r\n            </div>  \r\n        )\r\n    }\r\n\r\n}\r\n\r\nSign = withRouter(Sign);\r\nexport default Sign;"]},"metadata":{},"sourceType":"module"}