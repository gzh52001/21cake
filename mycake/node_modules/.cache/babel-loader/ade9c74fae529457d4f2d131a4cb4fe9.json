{"ast":null,"code":"import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport closest from '../_util/closest';\nimport Modal from './Modal';\nexport default function prompt(title, message, callbackOrActions) {\n  var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'default';\n  var defaultValue = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\n  var placeholders = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ['', ''];\n  var platform = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'ios';\n  var closed = false;\n  defaultValue = typeof defaultValue === 'string' ? defaultValue : typeof defaultValue === 'number' ? '' + defaultValue : '';\n\n  if (!callbackOrActions) {\n    // console.log('Must specify callbackOrActions');\n    return {\n      close: function close() {}\n    };\n  }\n\n  var prefixCls = 'am-modal';\n  var data = {\n    text: defaultValue\n  };\n\n  function onChange(e) {\n    var target = e.target;\n    var inputType = target.getAttribute('type');\n\n    if (inputType !== null) {\n      data[inputType] = target.value;\n    }\n  } // hotfix issue: https://github.com/ant-design/ant-design-mobile/issues/2177\n\n\n  function onClick(e) {\n    var target = e.currentTarget || e.target;\n\n    if (target) {\n      target.focus();\n    }\n  }\n\n  function onBlurFixWechat() {\n    // https://github.com/ant-design/ant-design-mobile/issues/3137\n    if (/MicroMessenger/.test(navigator.userAgent)) {\n      document.body.scrollTop = document.body.scrollTop;\n    }\n  }\n\n  var inputDom = void 0;\n\n  var focusFn = function focusFn(input) {\n    setTimeout(function () {\n      if (input) {\n        input.focus();\n      }\n    }, 500);\n  };\n\n  switch (type) {\n    case 'login-password':\n      inputDom = React.createElement('div', {\n        className: prefixCls + '-input-container'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('label', null, React.createElement('input', {\n        type: 'text',\n        defaultValue: data.text,\n        ref: function ref(input) {\n          return focusFn(input);\n        },\n        onClick: onClick,\n        onChange: onChange,\n        placeholder: placeholders[0],\n        onBlur: onBlurFixWechat\n      }))), React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('label', null, React.createElement('input', {\n        type: 'password',\n        defaultValue: data.password,\n        onClick: onClick,\n        onChange: onChange,\n        placeholder: placeholders[1],\n        onBlur: onBlurFixWechat\n      }))));\n      break;\n\n    case 'secure-text':\n      inputDom = React.createElement('div', {\n        className: prefixCls + '-input-container'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('label', null, React.createElement('input', {\n        type: 'password',\n        defaultValue: data.password,\n        ref: function ref(input) {\n          return focusFn(input);\n        },\n        onClick: onClick,\n        onChange: onChange,\n        placeholder: placeholders[0],\n        onBlur: onBlurFixWechat\n      }))));\n      break;\n\n    case 'default':\n    default:\n      inputDom = React.createElement('div', {\n        className: prefixCls + '-input-container'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('label', null, React.createElement('input', {\n        type: 'text',\n        defaultValue: data.text,\n        ref: function ref(input) {\n          return focusFn(input);\n        },\n        onClick: onClick,\n        onChange: onChange,\n        placeholder: placeholders[0],\n        onBlur: onBlurFixWechat\n      }))));\n  }\n\n  var content = React.createElement('div', null, message, inputDom);\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n\n  function close() {\n    ReactDOM.unmountComponentAtNode(div);\n\n    if (div && div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n  }\n\n  function handleConfirm(callback) {\n    if (typeof callback !== 'function') {\n      return;\n    }\n\n    var _data$text = data.text,\n        text = _data$text === undefined ? '' : _data$text,\n        _data$password = data.password,\n        password = _data$password === undefined ? '' : _data$password;\n    var callbackArgs = type === 'login-password' ? [text, password] : type === 'secure-text' ? [password] : [text];\n    return callback.apply(undefined, callbackArgs);\n  }\n\n  var actions = void 0;\n\n  if (typeof callbackOrActions === 'function') {\n    actions = [{\n      text: '取消',\n      onPress: function onPress() {}\n    }, {\n      text: '确定',\n      onPress: function onPress() {\n        handleConfirm(callbackOrActions);\n      }\n    }];\n  } else {\n    actions = callbackOrActions.map(function (item) {\n      return {\n        text: item.text,\n        onPress: function onPress() {\n          return handleConfirm(item.onPress);\n        }\n      };\n    });\n  }\n\n  var footer = actions.map(function (button) {\n    // tslint:disable-next-line:only-arrow-functions\n    var orginPress = button.onPress || function () {};\n\n    button.onPress = function () {\n      if (closed) {\n        return;\n      }\n\n      var res = orginPress();\n\n      if (res && res.then) {\n        res.then(function () {\n          closed = true;\n          close();\n        })['catch'](function () {});\n      } else {\n        closed = true;\n        close();\n      }\n    };\n\n    return button;\n  });\n\n  function onWrapTouchStart(e) {\n    // exclude input element for focus\n    if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\n      return;\n    }\n\n    var pNode = closest(e.target, '.' + prefixCls + '-content');\n\n    if (!pNode) {\n      e.preventDefault();\n    }\n  }\n\n  ReactDOM.render(React.createElement(Modal, {\n    visible: true,\n    transparent: true,\n    prefixCls: prefixCls,\n    title: title,\n    closable: false,\n    maskClosable: false,\n    transitionName: 'am-zoom',\n    footer: footer,\n    maskTransitionName: 'am-fade',\n    platform: platform,\n    wrapProps: {\n      onTouchStart: onWrapTouchStart\n    }\n  }, React.createElement('div', {\n    className: prefixCls + '-propmt-content'\n  }, content)), div);\n  return {\n    close: close\n  };\n}","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/antd-mobile/es/modal/prompt.js"],"names":["React","ReactDOM","closest","Modal","prompt","title","message","callbackOrActions","type","arguments","length","undefined","defaultValue","placeholders","platform","closed","close","prefixCls","data","text","onChange","e","target","inputType","getAttribute","value","onClick","currentTarget","focus","onBlurFixWechat","test","navigator","userAgent","document","body","scrollTop","inputDom","focusFn","input","setTimeout","createElement","className","ref","placeholder","onBlur","password","content","div","appendChild","unmountComponentAtNode","parentNode","removeChild","handleConfirm","callback","_data$text","_data$password","callbackArgs","apply","actions","onPress","map","item","footer","button","orginPress","res","then","onWrapTouchStart","pNode","preventDefault","render","visible","transparent","closable","maskClosable","transitionName","maskTransitionName","wrapProps","onTouchStart"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,iBAAhC,EAAmD;AAC9D,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,SAA/E;AACA,MAAIG,YAAY,GAAGH,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAvF;AACA,MAAII,YAAY,GAAGJ,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAC,EAAD,EAAK,EAAL,CAAvF;AACA,MAAIK,QAAQ,GAAGL,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAnF;AAEA,MAAIM,MAAM,GAAG,KAAb;AACAH,EAAAA,YAAY,GAAG,OAAOA,YAAP,KAAwB,QAAxB,GAAmCA,YAAnC,GAAkD,OAAOA,YAAP,KAAwB,QAAxB,GAAmC,KAAKA,YAAxC,GAAuD,EAAxH;;AACA,MAAI,CAACL,iBAAL,EAAwB;AACpB;AACA,WAAO;AACHS,MAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB,CAAE;AADvB,KAAP;AAGH;;AACD,MAAIC,SAAS,GAAG,UAAhB;AACA,MAAIC,IAAI,GAAG;AACPC,IAAAA,IAAI,EAAEP;AADC,GAAX;;AAGA,WAASQ,QAAT,CAAkBC,CAAlB,EAAqB;AACjB,QAAIC,MAAM,GAAGD,CAAC,CAACC,MAAf;AACA,QAAIC,SAAS,GAAGD,MAAM,CAACE,YAAP,CAAoB,MAApB,CAAhB;;AACA,QAAID,SAAS,KAAK,IAAlB,EAAwB;AACpBL,MAAAA,IAAI,CAACK,SAAD,CAAJ,GAAkBD,MAAM,CAACG,KAAzB;AACH;AACJ,GAxB6D,CAyB9D;;;AACA,WAASC,OAAT,CAAiBL,CAAjB,EAAoB;AAChB,QAAIC,MAAM,GAAGD,CAAC,CAACM,aAAF,IAAmBN,CAAC,CAACC,MAAlC;;AACA,QAAIA,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAACM,KAAP;AACH;AACJ;;AACD,WAASC,eAAT,GAA2B;AACvB;AACA,QAAI,iBAAiBC,IAAjB,CAAsBC,SAAS,CAACC,SAAhC,CAAJ,EAAgD;AAC5CC,MAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,GAA0BF,QAAQ,CAACC,IAAT,CAAcC,SAAxC;AACH;AACJ;;AACD,MAAIC,QAAQ,GAAG,KAAK,CAApB;;AACA,MAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AAClCC,IAAAA,UAAU,CAAC,YAAY;AACnB,UAAID,KAAJ,EAAW;AACPA,QAAAA,KAAK,CAACV,KAAN;AACH;AACJ,KAJS,EAIP,GAJO,CAAV;AAKH,GAND;;AAOA,UAAQpB,IAAR;AACI,SAAK,gBAAL;AACI4B,MAAAA,QAAQ,GAAGpC,KAAK,CAACwC,aAAN,CACP,KADO,EAEP;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFO,EAGPjB,KAAK,CAACwC,aAAN,CACI,KADJ,EAEI;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFJ,EAGIjB,KAAK,CAACwC,aAAN,CACI,OADJ,EAEI,IAFJ,EAGIxC,KAAK,CAACwC,aAAN,CAAoB,OAApB,EAA6B;AAAEhC,QAAAA,IAAI,EAAE,MAAR;AAAgBI,QAAAA,YAAY,EAAEM,IAAI,CAACC,IAAnC;AAAyCuB,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaJ,KAAb,EAAoB;AACvF,iBAAOD,OAAO,CAACC,KAAD,CAAd;AACH,SAFwB;AAEtBZ,QAAAA,OAAO,EAAEA,OAFa;AAEJN,QAAAA,QAAQ,EAAEA,QAFN;AAEgBuB,QAAAA,WAAW,EAAE9B,YAAY,CAAC,CAAD,CAFzC;AAE8C+B,QAAAA,MAAM,EAAEf;AAFtD,OAA7B,CAHJ,CAHJ,CAHO,EAcP7B,KAAK,CAACwC,aAAN,CACI,KADJ,EAEI;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFJ,EAGIjB,KAAK,CAACwC,aAAN,CACI,OADJ,EAEI,IAFJ,EAGIxC,KAAK,CAACwC,aAAN,CAAoB,OAApB,EAA6B;AAAEhC,QAAAA,IAAI,EAAE,UAAR;AAAoBI,QAAAA,YAAY,EAAEM,IAAI,CAAC2B,QAAvC;AAAiDnB,QAAAA,OAAO,EAAEA,OAA1D;AAAmEN,QAAAA,QAAQ,EAAEA,QAA7E;AAAuFuB,QAAAA,WAAW,EAAE9B,YAAY,CAAC,CAAD,CAAhH;AAAqH+B,QAAAA,MAAM,EAAEf;AAA7H,OAA7B,CAHJ,CAHJ,CAdO,CAAX;AAwBA;;AACJ,SAAK,aAAL;AACIO,MAAAA,QAAQ,GAAGpC,KAAK,CAACwC,aAAN,CACP,KADO,EAEP;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFO,EAGPjB,KAAK,CAACwC,aAAN,CACI,KADJ,EAEI;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFJ,EAGIjB,KAAK,CAACwC,aAAN,CACI,OADJ,EAEI,IAFJ,EAGIxC,KAAK,CAACwC,aAAN,CAAoB,OAApB,EAA6B;AAAEhC,QAAAA,IAAI,EAAE,UAAR;AAAoBI,QAAAA,YAAY,EAAEM,IAAI,CAAC2B,QAAvC;AAAiDH,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaJ,KAAb,EAAoB;AAC/F,iBAAOD,OAAO,CAACC,KAAD,CAAd;AACH,SAFwB;AAEtBZ,QAAAA,OAAO,EAAEA,OAFa;AAEJN,QAAAA,QAAQ,EAAEA,QAFN;AAEgBuB,QAAAA,WAAW,EAAE9B,YAAY,CAAC,CAAD,CAFzC;AAE8C+B,QAAAA,MAAM,EAAEf;AAFtD,OAA7B,CAHJ,CAHJ,CAHO,CAAX;AAeA;;AACJ,SAAK,SAAL;AACA;AACIO,MAAAA,QAAQ,GAAGpC,KAAK,CAACwC,aAAN,CACP,KADO,EAEP;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFO,EAGPjB,KAAK,CAACwC,aAAN,CACI,KADJ,EAEI;AAAEC,QAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,OAFJ,EAGIjB,KAAK,CAACwC,aAAN,CACI,OADJ,EAEI,IAFJ,EAGIxC,KAAK,CAACwC,aAAN,CAAoB,OAApB,EAA6B;AAAEhC,QAAAA,IAAI,EAAE,MAAR;AAAgBI,QAAAA,YAAY,EAAEM,IAAI,CAACC,IAAnC;AAAyCuB,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaJ,KAAb,EAAoB;AACvF,iBAAOD,OAAO,CAACC,KAAD,CAAd;AACH,SAFwB;AAEtBZ,QAAAA,OAAO,EAAEA,OAFa;AAEJN,QAAAA,QAAQ,EAAEA,QAFN;AAEgBuB,QAAAA,WAAW,EAAE9B,YAAY,CAAC,CAAD,CAFzC;AAE8C+B,QAAAA,MAAM,EAAEf;AAFtD,OAA7B,CAHJ,CAHJ,CAHO,CAAX;AA9CR;;AA8DA,MAAIiB,OAAO,GAAG9C,KAAK,CAACwC,aAAN,CACV,KADU,EAEV,IAFU,EAGVlC,OAHU,EAIV8B,QAJU,CAAd;AAMA,MAAIW,GAAG,GAAGd,QAAQ,CAACO,aAAT,CAAuB,KAAvB,CAAV;AACAP,EAAAA,QAAQ,CAACC,IAAT,CAAcc,WAAd,CAA0BD,GAA1B;;AACA,WAAS/B,KAAT,GAAiB;AACbf,IAAAA,QAAQ,CAACgD,sBAAT,CAAgCF,GAAhC;;AACA,QAAIA,GAAG,IAAIA,GAAG,CAACG,UAAf,EAA2B;AACvBH,MAAAA,GAAG,CAACG,UAAJ,CAAeC,WAAf,CAA2BJ,GAA3B;AACH;AACJ;;AACD,WAASK,aAAT,CAAuBC,QAAvB,EAAiC;AAC7B,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAChC;AACH;;AACD,QAAIC,UAAU,GAAGpC,IAAI,CAACC,IAAtB;AAAA,QACIA,IAAI,GAAGmC,UAAU,KAAK3C,SAAf,GAA2B,EAA3B,GAAgC2C,UAD3C;AAAA,QAEIC,cAAc,GAAGrC,IAAI,CAAC2B,QAF1B;AAAA,QAGIA,QAAQ,GAAGU,cAAc,KAAK5C,SAAnB,GAA+B,EAA/B,GAAoC4C,cAHnD;AAKA,QAAIC,YAAY,GAAGhD,IAAI,KAAK,gBAAT,GAA4B,CAACW,IAAD,EAAO0B,QAAP,CAA5B,GAA+CrC,IAAI,KAAK,aAAT,GAAyB,CAACqC,QAAD,CAAzB,GAAsC,CAAC1B,IAAD,CAAxG;AACA,WAAOkC,QAAQ,CAACI,KAAT,CAAe9C,SAAf,EAA0B6C,YAA1B,CAAP;AACH;;AACD,MAAIE,OAAO,GAAG,KAAK,CAAnB;;AACA,MAAI,OAAOnD,iBAAP,KAA6B,UAAjC,EAA6C;AACzCmD,IAAAA,OAAO,GAAG,CAAC;AACPvC,MAAAA,IAAI,EAAE,IADC;AAEPwC,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE;AAFvB,KAAD,EAGP;AACCxC,MAAAA,IAAI,EAAE,IADP;AAECwC,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AACxBP,QAAAA,aAAa,CAAC7C,iBAAD,CAAb;AACH;AAJF,KAHO,CAAV;AASH,GAVD,MAUO;AACHmD,IAAAA,OAAO,GAAGnD,iBAAiB,CAACqD,GAAlB,CAAsB,UAAUC,IAAV,EAAgB;AAC5C,aAAO;AACH1C,QAAAA,IAAI,EAAE0C,IAAI,CAAC1C,IADR;AAEHwC,QAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AACxB,iBAAOP,aAAa,CAACS,IAAI,CAACF,OAAN,CAApB;AACH;AAJE,OAAP;AAMH,KAPS,CAAV;AAQH;;AACD,MAAIG,MAAM,GAAGJ,OAAO,CAACE,GAAR,CAAY,UAAUG,MAAV,EAAkB;AACvC;AACA,QAAIC,UAAU,GAAGD,MAAM,CAACJ,OAAP,IAAkB,YAAY,CAAE,CAAjD;;AACAI,IAAAA,MAAM,CAACJ,OAAP,GAAiB,YAAY;AACzB,UAAI5C,MAAJ,EAAY;AACR;AACH;;AACD,UAAIkD,GAAG,GAAGD,UAAU,EAApB;;AACA,UAAIC,GAAG,IAAIA,GAAG,CAACC,IAAf,EAAqB;AACjBD,QAAAA,GAAG,CAACC,IAAJ,CAAS,YAAY;AACjBnD,UAAAA,MAAM,GAAG,IAAT;AACAC,UAAAA,KAAK;AACR,SAHD,EAGG,OAHH,EAGY,YAAY,CAAE,CAH1B;AAIH,OALD,MAKO;AACHD,QAAAA,MAAM,GAAG,IAAT;AACAC,QAAAA,KAAK;AACR;AACJ,KAdD;;AAeA,WAAO+C,MAAP;AACH,GAnBY,CAAb;;AAoBA,WAASI,gBAAT,CAA0B9C,CAA1B,EAA6B;AACzB;AACA,QAAI,CAAC,oBAAoBS,IAApB,CAAyBC,SAAS,CAACC,SAAnC,CAAL,EAAoD;AAChD;AACH;;AACD,QAAIoC,KAAK,GAAGlE,OAAO,CAACmB,CAAC,CAACC,MAAH,EAAW,MAAML,SAAN,GAAkB,UAA7B,CAAnB;;AACA,QAAI,CAACmD,KAAL,EAAY;AACR/C,MAAAA,CAAC,CAACgD,cAAF;AACH;AACJ;;AACDpE,EAAAA,QAAQ,CAACqE,MAAT,CAAgBtE,KAAK,CAACwC,aAAN,CACZrC,KADY,EAEZ;AAAEoE,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,WAAW,EAAE,IAA9B;AAAoCvD,IAAAA,SAAS,EAAEA,SAA/C;AAA0DZ,IAAAA,KAAK,EAAEA,KAAjE;AAAwEoE,IAAAA,QAAQ,EAAE,KAAlF;AAAyFC,IAAAA,YAAY,EAAE,KAAvG;AAA8GC,IAAAA,cAAc,EAAE,SAA9H;AAAyIb,IAAAA,MAAM,EAAEA,MAAjJ;AAAyJc,IAAAA,kBAAkB,EAAE,SAA7K;AAAwL9D,IAAAA,QAAQ,EAAEA,QAAlM;AAA4M+D,IAAAA,SAAS,EAAE;AAAEC,MAAAA,YAAY,EAAEX;AAAhB;AAAvN,GAFY,EAGZnE,KAAK,CAACwC,aAAN,CACI,KADJ,EAEI;AAAEC,IAAAA,SAAS,EAAExB,SAAS,GAAG;AAAzB,GAFJ,EAGI6B,OAHJ,CAHY,CAAhB,EAQGC,GARH;AASA,SAAO;AACH/B,IAAAA,KAAK,EAAEA;AADJ,GAAP;AAGH","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport closest from '../_util/closest';\nimport Modal from './Modal';\nexport default function prompt(title, message, callbackOrActions) {\n    var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'default';\n    var defaultValue = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\n    var placeholders = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ['', ''];\n    var platform = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'ios';\n\n    var closed = false;\n    defaultValue = typeof defaultValue === 'string' ? defaultValue : typeof defaultValue === 'number' ? '' + defaultValue : '';\n    if (!callbackOrActions) {\n        // console.log('Must specify callbackOrActions');\n        return {\n            close: function close() {}\n        };\n    }\n    var prefixCls = 'am-modal';\n    var data = {\n        text: defaultValue\n    };\n    function onChange(e) {\n        var target = e.target;\n        var inputType = target.getAttribute('type');\n        if (inputType !== null) {\n            data[inputType] = target.value;\n        }\n    }\n    // hotfix issue: https://github.com/ant-design/ant-design-mobile/issues/2177\n    function onClick(e) {\n        var target = e.currentTarget || e.target;\n        if (target) {\n            target.focus();\n        }\n    }\n    function onBlurFixWechat() {\n        // https://github.com/ant-design/ant-design-mobile/issues/3137\n        if (/MicroMessenger/.test(navigator.userAgent)) {\n            document.body.scrollTop = document.body.scrollTop;\n        }\n    }\n    var inputDom = void 0;\n    var focusFn = function focusFn(input) {\n        setTimeout(function () {\n            if (input) {\n                input.focus();\n            }\n        }, 500);\n    };\n    switch (type) {\n        case 'login-password':\n            inputDom = React.createElement(\n                'div',\n                { className: prefixCls + '-input-container' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'label',\n                        null,\n                        React.createElement('input', { type: 'text', defaultValue: data.text, ref: function ref(input) {\n                                return focusFn(input);\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0], onBlur: onBlurFixWechat })\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'label',\n                        null,\n                        React.createElement('input', { type: 'password', defaultValue: data.password, onClick: onClick, onChange: onChange, placeholder: placeholders[1], onBlur: onBlurFixWechat })\n                    )\n                )\n            );\n            break;\n        case 'secure-text':\n            inputDom = React.createElement(\n                'div',\n                { className: prefixCls + '-input-container' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'label',\n                        null,\n                        React.createElement('input', { type: 'password', defaultValue: data.password, ref: function ref(input) {\n                                return focusFn(input);\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0], onBlur: onBlurFixWechat })\n                    )\n                )\n            );\n            break;\n        case 'default':\n        default:\n            inputDom = React.createElement(\n                'div',\n                { className: prefixCls + '-input-container' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'label',\n                        null,\n                        React.createElement('input', { type: 'text', defaultValue: data.text, ref: function ref(input) {\n                                return focusFn(input);\n                            }, onClick: onClick, onChange: onChange, placeholder: placeholders[0], onBlur: onBlurFixWechat })\n                    )\n                )\n            );\n    }\n    var content = React.createElement(\n        'div',\n        null,\n        message,\n        inputDom\n    );\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    function close() {\n        ReactDOM.unmountComponentAtNode(div);\n        if (div && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n    }\n    function handleConfirm(callback) {\n        if (typeof callback !== 'function') {\n            return;\n        }\n        var _data$text = data.text,\n            text = _data$text === undefined ? '' : _data$text,\n            _data$password = data.password,\n            password = _data$password === undefined ? '' : _data$password;\n\n        var callbackArgs = type === 'login-password' ? [text, password] : type === 'secure-text' ? [password] : [text];\n        return callback.apply(undefined, callbackArgs);\n    }\n    var actions = void 0;\n    if (typeof callbackOrActions === 'function') {\n        actions = [{\n            text: '取消',\n            onPress: function onPress() {}\n        }, {\n            text: '确定',\n            onPress: function onPress() {\n                handleConfirm(callbackOrActions);\n            }\n        }];\n    } else {\n        actions = callbackOrActions.map(function (item) {\n            return {\n                text: item.text,\n                onPress: function onPress() {\n                    return handleConfirm(item.onPress);\n                }\n            };\n        });\n    }\n    var footer = actions.map(function (button) {\n        // tslint:disable-next-line:only-arrow-functions\n        var orginPress = button.onPress || function () {};\n        button.onPress = function () {\n            if (closed) {\n                return;\n            }\n            var res = orginPress();\n            if (res && res.then) {\n                res.then(function () {\n                    closed = true;\n                    close();\n                })['catch'](function () {});\n            } else {\n                closed = true;\n                close();\n            }\n        };\n        return button;\n    });\n    function onWrapTouchStart(e) {\n        // exclude input element for focus\n        if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\n            return;\n        }\n        var pNode = closest(e.target, '.' + prefixCls + '-content');\n        if (!pNode) {\n            e.preventDefault();\n        }\n    }\n    ReactDOM.render(React.createElement(\n        Modal,\n        { visible: true, transparent: true, prefixCls: prefixCls, title: title, closable: false, maskClosable: false, transitionName: 'am-zoom', footer: footer, maskTransitionName: 'am-fade', platform: platform, wrapProps: { onTouchStart: onWrapTouchStart } },\n        React.createElement(\n            'div',\n            { className: prefixCls + '-propmt-content' },\n            content\n        )\n    ), div);\n    return {\n        close: close\n    };\n}"]},"metadata":{},"sourceType":"module"}