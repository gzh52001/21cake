{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport TouchFeedback from 'rmc-feedback';\nimport { IS_IOS } from '../_util/exenv';\n/**\n * determines whether an array includes a certain value among its entries, returning true or false as appropriate.\n * @param {array} arr The array to search in\n * @param {any} item  The value to search for\n */\n\nfunction includes(arr, item) {\n  if (!arr || !arr.length || !item) {\n    return false;\n  }\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (arr[i] === item) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport var KeyboardItem = function (_React$Component) {\n  _inherits(KeyboardItem, _React$Component);\n\n  function KeyboardItem() {\n    _classCallCheck(this, KeyboardItem);\n\n    return _possibleConstructorReturn(this, (KeyboardItem.__proto__ || Object.getPrototypeOf(KeyboardItem)).apply(this, arguments));\n  }\n\n  _createClass(KeyboardItem, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          _onClick = _a.onClick,\n          className = _a.className,\n          disabled = _a.disabled,\n          children = _a.children,\n          tdRef = _a.tdRef,\n          label = _a.label,\n          iconOnly = _a.iconOnly,\n          restProps = __rest(_a, [\"prefixCls\", \"onClick\", \"className\", \"disabled\", \"children\", \"tdRef\", \"label\", \"iconOnly\"]);\n\n      var value = children;\n\n      if (className === 'keyboard-delete') {\n        value = 'delete';\n      } else if (className === 'keyboard-hide') {\n        value = 'hide';\n      } else if (className === 'keyboard-confirm') {\n        value = 'confirm';\n      }\n\n      var extraCls = _defineProperty({}, prefixCls + '-item-disabled', disabled);\n\n      var wrapCls = classnames(prefixCls + '-item', className, extraCls);\n      return React.createElement(TouchFeedback, {\n        disabled: disabled,\n        activeClassName: prefixCls + '-item-active'\n      }, React.createElement('td', _extends({\n        ref: tdRef // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        onClick: function onClick(e) {\n          _onClick(e, value);\n        },\n        className: wrapCls\n      }, restProps), children, iconOnly && React.createElement('i', {\n        className: 'sr-only'\n      }, label)));\n    }\n  }]);\n\n  return KeyboardItem;\n}(React.Component);\nKeyboardItem.defaultProps = {\n  prefixCls: 'am-number-keyboard',\n  onClick: function onClick() {},\n  disabled: false\n};\n\nvar CustomKeyboard = function (_React$Component2) {\n  _inherits(CustomKeyboard, _React$Component2);\n\n  function CustomKeyboard() {\n    _classCallCheck(this, CustomKeyboard);\n\n    var _this2 = _possibleConstructorReturn(this, (CustomKeyboard.__proto__ || Object.getPrototypeOf(CustomKeyboard)).apply(this, arguments));\n\n    _this2.onKeyboardClick = function (e) {\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      e.nativeEvent.stopImmediatePropagation();\n\n      if (_this2.props.disabledKeys && includes(_this2.props.disabledKeys, value)) {\n        return null;\n      }\n\n      if (value === 'confirm' && _this2.confirmDisabled) {\n        return null;\n      } else {\n        if (_this2.linkedInput) {\n          _this2.linkedInput.onKeyboardClick(value);\n        }\n      }\n    };\n\n    _this2.renderKeyboardItem = function (item, index) {\n      var disabled = false;\n\n      if (_this2.props.disabledKeys && includes(_this2.props.disabledKeys, item)) {\n        disabled = true;\n      }\n\n      return React.createElement(KeyboardItem, {\n        onClick: _this2.onKeyboardClick,\n        key: 'item-' + item + '-' + index,\n        disabled: disabled\n      }, item);\n    };\n\n    return _this2;\n  }\n\n  _createClass(CustomKeyboard, [{\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          confirmLabel = _props.confirmLabel,\n          backspaceLabel = _props.backspaceLabel,\n          cancelKeyboardLabel = _props.cancelKeyboardLabel,\n          wrapProps = _props.wrapProps,\n          header = _props.header;\n      var wrapperCls = classnames(prefixCls + '-wrapper', prefixCls + '-wrapper-hide');\n      return React.createElement('div', _extends({\n        className: wrapperCls,\n        ref: function ref(el) {\n          return _this3.antmKeyboard = el;\n        }\n      }, wrapProps), header && React.cloneElement(header, {\n        onClick: this.onKeyboardClick\n      }), React.createElement('table', null, React.createElement('tbody', null, React.createElement('tr', null, ['1', '2', '3'].map(function (item, index) {\n        return (// tslint:disable-next-line:jsx-no-multiline-js\n          _this3.renderKeyboardItem(item, index)\n        );\n      }), React.createElement(KeyboardItem, _extends({\n        className: 'keyboard-delete',\n        rowSpan: 2,\n        onClick: this.onKeyboardClick\n      }, this.getAriaAttr(backspaceLabel)))), React.createElement('tr', null, ['4', '5', '6'].map(function (item, index) {\n        return (// tslint:disable-next-line:jsx-no-multiline-js\n          _this3.renderKeyboardItem(item, index)\n        );\n      })), React.createElement('tr', null, ['7', '8', '9'].map(function (item, index) {\n        return (// tslint:disable-next-line:jsx-no-multiline-js\n          _this3.renderKeyboardItem(item, index)\n        );\n      }), React.createElement(KeyboardItem, {\n        className: 'keyboard-confirm',\n        rowSpan: 2,\n        onClick: this.onKeyboardClick,\n        tdRef: function tdRef(el) {\n          return _this3.confirmKeyboardItem = el;\n        }\n      }, confirmLabel)), React.createElement('tr', null, ['.', '0'].map(function (item, index) {\n        return (// tslint:disable-next-line:jsx-no-multiline-js\n          _this3.renderKeyboardItem(item, index)\n        );\n      }), React.createElement(KeyboardItem, _extends({\n        className: 'keyboard-hide',\n        onClick: this.onKeyboardClick\n      }, this.getAriaAttr(cancelKeyboardLabel)))))));\n    }\n  }, {\n    key: 'getAriaAttr',\n    value: function getAriaAttr(label) {\n      if (IS_IOS) {\n        return {\n          label: label,\n          iconOnly: true\n        };\n      } else {\n        return {\n          role: 'button',\n          'aria-label': label\n        };\n      }\n    }\n  }]);\n\n  return CustomKeyboard;\n}(React.Component);\n\nCustomKeyboard.defaultProps = {\n  prefixCls: 'am-number-keyboard',\n  disabledKeys: null\n};\nexport default CustomKeyboard;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/antd-mobile/es/input-item/CustomKeyboard.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","classnames","React","TouchFeedback","IS_IOS","includes","arr","item","len","KeyboardItem","_React$Component","__proto__","getPrototypeOf","apply","arguments","key","value","render","_a","props","prefixCls","_onClick","onClick","className","disabled","children","tdRef","label","iconOnly","restProps","extraCls","wrapCls","createElement","activeClassName","ref","Component","defaultProps","CustomKeyboard","_React$Component2","_this2","onKeyboardClick","undefined","nativeEvent","stopImmediatePropagation","disabledKeys","confirmDisabled","linkedInput","renderKeyboardItem","index","_this3","_props","confirmLabel","backspaceLabel","cancelKeyboardLabel","wrapProps","header","wrapperCls","el","antmKeyboard","cloneElement","map","rowSpan","getAriaAttr","confirmKeyboardItem","role"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport TouchFeedback from 'rmc-feedback';\nimport { IS_IOS } from '../_util/exenv';\n/**\n * determines whether an array includes a certain value among its entries, returning true or false as appropriate.\n * @param {array} arr The array to search in\n * @param {any} item  The value to search for\n */\nfunction includes(arr, item) {\n    if (!arr || !arr.length || !item) {\n        return false;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i] === item) {\n            return true;\n        }\n    }\n    return false;\n}\nexport var KeyboardItem = function (_React$Component) {\n    _inherits(KeyboardItem, _React$Component);\n\n    function KeyboardItem() {\n        _classCallCheck(this, KeyboardItem);\n\n        return _possibleConstructorReturn(this, (KeyboardItem.__proto__ || Object.getPrototypeOf(KeyboardItem)).apply(this, arguments));\n    }\n\n    _createClass(KeyboardItem, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                _onClick = _a.onClick,\n                className = _a.className,\n                disabled = _a.disabled,\n                children = _a.children,\n                tdRef = _a.tdRef,\n                label = _a.label,\n                iconOnly = _a.iconOnly,\n                restProps = __rest(_a, [\"prefixCls\", \"onClick\", \"className\", \"disabled\", \"children\", \"tdRef\", \"label\", \"iconOnly\"]);\n            var value = children;\n            if (className === 'keyboard-delete') {\n                value = 'delete';\n            } else if (className === 'keyboard-hide') {\n                value = 'hide';\n            } else if (className === 'keyboard-confirm') {\n                value = 'confirm';\n            }\n            var extraCls = _defineProperty({}, prefixCls + '-item-disabled', disabled);\n            var wrapCls = classnames(prefixCls + '-item', className, extraCls);\n            return React.createElement(\n                TouchFeedback,\n                { disabled: disabled, activeClassName: prefixCls + '-item-active' },\n                React.createElement(\n                    'td',\n                    _extends({ ref: tdRef\n                        // tslint:disable-next-line:jsx-no-multiline-js\n                        , onClick: function onClick(e) {\n                            _onClick(e, value);\n                        }, className: wrapCls }, restProps),\n                    children,\n                    iconOnly && React.createElement(\n                        'i',\n                        { className: 'sr-only' },\n                        label\n                    )\n                )\n            );\n        }\n    }]);\n\n    return KeyboardItem;\n}(React.Component);\nKeyboardItem.defaultProps = {\n    prefixCls: 'am-number-keyboard',\n    onClick: function onClick() {},\n    disabled: false\n};\n\nvar CustomKeyboard = function (_React$Component2) {\n    _inherits(CustomKeyboard, _React$Component2);\n\n    function CustomKeyboard() {\n        _classCallCheck(this, CustomKeyboard);\n\n        var _this2 = _possibleConstructorReturn(this, (CustomKeyboard.__proto__ || Object.getPrototypeOf(CustomKeyboard)).apply(this, arguments));\n\n        _this2.onKeyboardClick = function (e) {\n            var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n            e.nativeEvent.stopImmediatePropagation();\n            if (_this2.props.disabledKeys && includes(_this2.props.disabledKeys, value)) {\n                return null;\n            }\n            if (value === 'confirm' && _this2.confirmDisabled) {\n                return null;\n            } else {\n                if (_this2.linkedInput) {\n                    _this2.linkedInput.onKeyboardClick(value);\n                }\n            }\n        };\n        _this2.renderKeyboardItem = function (item, index) {\n            var disabled = false;\n            if (_this2.props.disabledKeys && includes(_this2.props.disabledKeys, item)) {\n                disabled = true;\n            }\n            return React.createElement(\n                KeyboardItem,\n                { onClick: _this2.onKeyboardClick, key: 'item-' + item + '-' + index, disabled: disabled },\n                item\n            );\n        };\n        return _this2;\n    }\n\n    _createClass(CustomKeyboard, [{\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                confirmLabel = _props.confirmLabel,\n                backspaceLabel = _props.backspaceLabel,\n                cancelKeyboardLabel = _props.cancelKeyboardLabel,\n                wrapProps = _props.wrapProps,\n                header = _props.header;\n\n            var wrapperCls = classnames(prefixCls + '-wrapper', prefixCls + '-wrapper-hide');\n            return React.createElement(\n                'div',\n                _extends({ className: wrapperCls, ref: function ref(el) {\n                        return _this3.antmKeyboard = el;\n                    } }, wrapProps),\n                header && React.cloneElement(header, { onClick: this.onKeyboardClick }),\n                React.createElement(\n                    'table',\n                    null,\n                    React.createElement(\n                        'tbody',\n                        null,\n                        React.createElement(\n                            'tr',\n                            null,\n                            ['1', '2', '3'].map(function (item, index) {\n                                return (\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    _this3.renderKeyboardItem(item, index)\n                                );\n                            }),\n                            React.createElement(KeyboardItem, _extends({ className: 'keyboard-delete', rowSpan: 2, onClick: this.onKeyboardClick }, this.getAriaAttr(backspaceLabel)))\n                        ),\n                        React.createElement(\n                            'tr',\n                            null,\n                            ['4', '5', '6'].map(function (item, index) {\n                                return (\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    _this3.renderKeyboardItem(item, index)\n                                );\n                            })\n                        ),\n                        React.createElement(\n                            'tr',\n                            null,\n                            ['7', '8', '9'].map(function (item, index) {\n                                return (\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    _this3.renderKeyboardItem(item, index)\n                                );\n                            }),\n                            React.createElement(\n                                KeyboardItem,\n                                { className: 'keyboard-confirm', rowSpan: 2, onClick: this.onKeyboardClick, tdRef: function tdRef(el) {\n                                        return _this3.confirmKeyboardItem = el;\n                                    } },\n                                confirmLabel\n                            )\n                        ),\n                        React.createElement(\n                            'tr',\n                            null,\n                            ['.', '0'].map(function (item, index) {\n                                return (\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    _this3.renderKeyboardItem(item, index)\n                                );\n                            }),\n                            React.createElement(KeyboardItem, _extends({ className: 'keyboard-hide', onClick: this.onKeyboardClick }, this.getAriaAttr(cancelKeyboardLabel)))\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: 'getAriaAttr',\n        value: function getAriaAttr(label) {\n            if (IS_IOS) {\n                return { label: label, iconOnly: true };\n            } else {\n                return { role: 'button', 'aria-label': label };\n            }\n        }\n    }]);\n\n    return CustomKeyboard;\n}(React.Component);\n\nCustomKeyboard.defaultProps = {\n    prefixCls: 'am-number-keyboard',\n    disabledKeys: null\n};\nexport default CustomKeyboard;"]},"metadata":{},"sourceType":"module"}