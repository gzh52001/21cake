{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport align from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport isWindow from './isWindow';\n\nfunction buffer(fn, ms) {\n  var timer = void 0;\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function bufferFn() {\n    clear();\n    timer = setTimeout(fn, ms);\n  }\n\n  bufferFn.clear = clear;\n  return bufferFn;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    _classCallCheck(this, Align);\n\n    var _this = _possibleConstructorReturn(this, (Align.__proto__ || Object.getPrototypeOf(Align)).apply(this, arguments));\n\n    _this.forceAlign = function () {\n      var props = _this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(_this);\n        props.onAlign(source, align(source, props.target(), props.align));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props;\n      this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        if (prevProps.disabled || prevProps.align !== props.align) {\n          reAlign = true;\n        } else {\n          var lastTarget = prevProps.target();\n          var currentTarget = props.target();\n\n          if (isWindow(lastTarget) && isWindow(currentTarget)) {\n            reAlign = false;\n          } else if (lastTarget !== currentTarget) {\n            reAlign = true;\n          }\n        }\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n      var child = React.Children.only(children);\n\n      if (childrenProps) {\n        var newProps = {};\n\n        for (var prop in childrenProps) {\n          if (childrenProps.hasOwnProperty(prop)) {\n            newProps[prop] = this.props[childrenProps[prop]];\n          }\n        }\n\n        return React.cloneElement(child, newProps);\n      }\n\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  onAlign: function onAlign() {},\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\nexport default Align;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/rmc-align/es/Align.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","Component","ReactDOM","align","addEventListener","isWindow","buffer","fn","ms","timer","clear","clearTimeout","bufferFn","setTimeout","Align","_Component","_this","getPrototypeOf","apply","arguments","forceAlign","disabled","source","findDOMNode","onAlign","componentDidMount","monitorWindowResize","startMonitorWindowResize","componentDidUpdate","prevProps","reAlign","lastTarget","currentTarget","stopMonitorWindowResize","componentWillUnmount","resizeHandler","bufferMonitor","monitorBufferTime","window","remove","render","_props","childrenProps","children","child","Children","only","newProps","prop","hasOwnProperty","cloneElement","defaultProps"],"mappings":"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","sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport align from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport isWindow from './isWindow';\nfunction buffer(fn, ms) {\n    var timer = void 0;\n    function clear() {\n        if (timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n    }\n    function bufferFn() {\n        clear();\n        timer = setTimeout(fn, ms);\n    }\n    bufferFn.clear = clear;\n    return bufferFn;\n}\n\nvar Align = function (_Component) {\n    _inherits(Align, _Component);\n\n    function Align() {\n        _classCallCheck(this, Align);\n\n        var _this = _possibleConstructorReturn(this, (Align.__proto__ || Object.getPrototypeOf(Align)).apply(this, arguments));\n\n        _this.forceAlign = function () {\n            var props = _this.props;\n            if (!props.disabled) {\n                var source = ReactDOM.findDOMNode(_this);\n                props.onAlign(source, align(source, props.target(), props.align));\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Align, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var props = this.props;\n                        this.forceAlign();\n            if (!props.disabled && props.monitorWindowResize) {\n                this.startMonitorWindowResize();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var reAlign = false;\n            var props = this.props;\n            if (!props.disabled) {\n                if (prevProps.disabled || prevProps.align !== props.align) {\n                    reAlign = true;\n                } else {\n                    var lastTarget = prevProps.target();\n                    var currentTarget = props.target();\n                    if (isWindow(lastTarget) && isWindow(currentTarget)) {\n                        reAlign = false;\n                    } else if (lastTarget !== currentTarget) {\n                        reAlign = true;\n                    }\n                }\n            }\n            if (reAlign) {\n                this.forceAlign();\n            }\n            if (props.monitorWindowResize && !props.disabled) {\n                this.startMonitorWindowResize();\n            } else {\n                this.stopMonitorWindowResize();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.stopMonitorWindowResize();\n        }\n    }, {\n        key: 'startMonitorWindowResize',\n        value: function startMonitorWindowResize() {\n            if (!this.resizeHandler) {\n                this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n                this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n            }\n        }\n    }, {\n        key: 'stopMonitorWindowResize',\n        value: function stopMonitorWindowResize() {\n            if (this.resizeHandler) {\n                this.bufferMonitor.clear();\n                this.resizeHandler.remove();\n                this.resizeHandler = null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                childrenProps = _props.childrenProps,\n                children = _props.children;\n\n            var child = React.Children.only(children);\n            if (childrenProps) {\n                var newProps = {};\n                for (var prop in childrenProps) {\n                    if (childrenProps.hasOwnProperty(prop)) {\n                        newProps[prop] = this.props[childrenProps[prop]];\n                    }\n                }\n                return React.cloneElement(child, newProps);\n            }\n            return child;\n        }\n    }]);\n\n    return Align;\n}(Component);\n\nAlign.defaultProps = {\n    target: function target() {\n        return window;\n    },\n    onAlign: function onAlign() {},\n    monitorBufferTime: 50,\n    monitorWindowResize: false,\n    disabled: false\n};\nexport default Align;"]},"metadata":{},"sourceType":"module"}