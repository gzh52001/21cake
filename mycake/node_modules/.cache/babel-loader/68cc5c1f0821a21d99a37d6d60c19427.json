{"ast":null,"code":"var _jsxFileName = \"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\src\\\\pages\\\\Goods\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Carousel, WingBlank, NavBar, Drawer, List, Toast } from 'antd-mobile';\nimport { withRouter } from 'react-router-dom';\nimport './goods.css';\nimport http from '../../utils/http'; //成功提示框\n\nfunction successToast() {\n  Toast.success('成功添加到购物车！', 1);\n}\n\nclass Goods extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      datalbt: null,\n      open: false,\n      //抽屉\n      havechange: false,\n      //是否选了规格，选的话就加入到购物车\n      weight: 1 //默认是款式1\n\n    };\n\n    this.openchange = (...args) => {\n      let goodsdrawer = document.getElementsByClassName(\"goods-drawer\")[0]; //要先判断有没有选了规格，选了的话havechange就是true，那么就加入购物车，没有的话得选规格然后havechange变为true\n\n      if (this.state.havechange) {\n        if (!this.state.open) {\n          goodsdrawer.style = \"display:block\";\n        } else {\n          //把商品加入购物车,弹出加入成功\n          // console.log(this.state.datamsg[0].gid);\n          this.add(this.state.datamsg[0].gid);\n          goodsdrawer.style = \"display:none\";\n        }\n      } else {\n        //没选规格，open是false打开选择框\n        if (!this.state.open) {\n          goodsdrawer.style = \"display:block\";\n        } else {\n          goodsdrawer.style = \"display:none\";\n        }\n      }\n\n      this.setState({\n        open: !this.state.open,\n        havechange: !this.state.havechange\n      });\n    };\n\n    this.close = () => {\n      let goodsdrawer = document.getElementsByClassName(\"goods-drawer\")[0];\n      goodsdrawer.style = \"display:none\";\n      this.setState({\n        open: false,\n        havechange: false\n      });\n    };\n\n    this.changeweight = idx => {\n      //设置规格\n      this.setState({\n        weight: idx\n      }); // console.log(this.state);\n      // console.log(this.state.weight);这state设置是等我们点击事件结束才设置，所以此处log出来的还是原来的\n      // console.log(idx);\n\n      switch (idx) {\n        //idx是一的话就高亮设置到1同事this.state.weight为1\n        case 1:\n          this.checkweight(1);\n          break;\n\n        case 2:\n          this.checkweight(2);\n          break;\n\n        case 3:\n          this.checkweight(3);\n          break;\n\n        case 4:\n          this.checkweight(4);\n          break;\n\n        default:\n          this.checkweight(1);\n      }\n    };\n\n    this.checkweight = idx => {\n      //改变高亮\n      let cakelis = document.getElementsByClassName('cakeweight');\n\n      for (var i = 0; i < cakelis.length; i++) {\n        //移除所有高亮\n        cakelis[i].classList.remove('active');\n      } //给目标设置高亮\n\n\n      cakelis[idx - 1].classList.add('active'); //改变弹出框规格各个值\n\n      var str = `\n            <li className='details-options-size'>\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/size.png) no-repeat center;background-size:auto 100%\"></i>\n                ${12.5 * idx}x${12.5 * idx}cm\n            </li>\n            <li className='details-options-unmber'>\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/unmber.png) no-repeat center;background-size:auto 100%\"></i>\n                ${3 * idx}-${5 * idx}人\n            </li>\n            <li className='details-options-laid'>\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/laid.png) no-repeat center;background-size:auto 100%\"></i>\n                含${5 * idx}套餐具（蜡烛需单独订购）\n            </li>`;\n      let cakeul = document.getElementsByClassName('details-options')[1];\n      cakeul.innerHTML = str; //改变弹出框价格\n\n      let cakeprice = document.getElementsByClassName('details-price')[0];\n      cakeprice.innerHTML = `¥${this.state.datamsg[0].price * idx}.00`; //改变datamsg[0]的weight值\n      // this.setState({\n      //     datamsg:{}\n      // });\n\n      switch (idx) {\n        case 1:\n          this.state.datamsg[0].weight1 = 1;\n          this.state.datamsg[0].weight2 = 0;\n          this.state.datamsg[0].weight3 = 0;\n          this.state.datamsg[0].weight4 = 0;\n          break;\n\n        case 2:\n          this.state.datamsg[0].weight2 = 1;\n          this.state.datamsg[0].weight1 = 0;\n          this.state.datamsg[0].weight3 = 0;\n          this.state.datamsg[0].weight4 = 0;\n          break;\n\n        case 3:\n          this.state.datamsg[0].weight3 = 1;\n          this.state.datamsg[0].weight1 = 0;\n          this.state.datamsg[0].weight2 = 0;\n          this.state.datamsg[0].weight4 = 0;\n          break;\n\n        case 4:\n          this.state.datamsg[0].weight4 = 1;\n          this.state.datamsg[0].weight1 = 0;\n          this.state.datamsg[0].weight2 = 0;\n          this.state.datamsg[0].weight3 = 0;\n          break;\n      } // console.log(this.state.datamsg[0]);\n\n\n      this.setState({\n        datamsg: this.state.datamsg\n      });\n    };\n\n    this.showlbt = () => {\n      if (this.state.datalbt.length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(WingBlank, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Carousel, {\n          autoplay: false,\n          infinite: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }\n        }, this.state.datalbt.map((val, index) => /*#__PURE__*/React.createElement(\"a\", {\n          key: val,\n          href: \"\",\n          style: {\n            display: 'inline-block',\n            width: '100%',\n            height: this.state.imgHeight\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: this.state.datalbt[index],\n          alt: \"\",\n          style: {\n            width: '100%',\n            verticalAlign: 'top'\n          },\n          onLoad: () => {\n            window.dispatchEvent(new Event('resize'));\n            this.setState({\n              imgHeight: 'auto'\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 33\n          }\n        }))))));\n      }\n    };\n\n    this.showdatamsg = () => {\n      // console.log(\"进来showdatamsg\"+this.state.weight);\n      if (this.state.datamsg.length) {\n        // console.log(this.state.datamsg[0]);\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"details-box\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pro-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }\n        }, this.state.datamsg[0].egtitle), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }\n        }, this.state.datamsg[0].chtitle)), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"price-label\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"top-price\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }\n        }, \"￥\" + this.state.datamsg[0].price * this.state.weight + \".00\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pro-details-label\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }\n        }, \"\\u65B0\\u54C1 \\u203A\")), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"details-taste\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://static.21cake.com/themes/wap/img/goods/icon/micon-03.png\",\n          alt: \"\\u9152\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }\n        }), \"\\u9152\"), /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://static.21cake.com/themes/wap/img/goods/icon/micon-33.png\",\n          alt: \"\\u5976\\u6CB9\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }\n        }), \"\\u5976\\u6CB9\"), /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://static.21cake.com/upload/images/20200424/9a1558a50ef89716e49c6570bd667d0f.png\",\n          alt: \"\\u6811\\u8393\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 29\n          }\n        }), \"\\u6811\\u8393\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"select-card\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"select-specifications\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"J-specifications\",\n          style: {\n            color: '#442818'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 33\n          }\n        }, `已选择：${454 * this.state.weight}g(${1 * this.state.weight}.0磅)`, /*#__PURE__*/React.createElement(\"i\", {\n          onClick: this.openchange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 33\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"details-options-card\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"details-options\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"details-options-size\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 37\n          }\n        }), `${12.5 * this.state.weight}x${12.5 * this.state.weight}cm`), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"details-options-unmber\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 37\n          }\n        }), `${3 * this.state.weight}-${5 * this.state.weight}人`), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"details-options-laid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 37\n          }\n        }), `含${5 * this.state.weight}套餐具（蜡烛需单独订购）`), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"details-options-time\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 33\n          }\n        }))), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"store-info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://static.21cake.com/themes/wap/img/fresh.png\",\n          alt: \"\\u4FDD\\u9C9C\\u6761\\u4EF6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 33\n          }\n        }, \"\\u4FDD\\u9C9C\\u6761\\u4EF6\"), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 37\n          }\n        }, \"0\\uFF0D4\\u2103\\u4FDD\\u85CF10\\u5C0F\\u65F6\\uFF0C5\\u2103\\u98DF\\u7528\\u4E3A\\u4F73\"))), /*#__PURE__*/React.createElement(\"li\", {\n          \"data-sweet\": \"3\",\n          id: \"sweetList\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://m.21cake.com/themes/wap/img/sweet.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 33\n          }\n        }, \"\\u53C2\\u8003\\u751C\\u5EA6\"), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"sweet-list\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"active\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          className: \"active\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          className: \"active\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 41\n          }\n        })))))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"details-introduction\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            padding: '15px',\n            background: '#fff',\n            marginTop: '12px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 21\n          }\n        }, this.state.datamsg[0].msg, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 21\n          }\n        }), this.state.datamsg[0].msg1), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"details-img\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: this.state.datamsg[0].simg0,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"img\", {\n          src: this.state.datamsg[0].simg1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"img\", {\n          src: this.state.datamsg[0].simg2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"img\", {\n          src: this.state.datamsg[0].simg3,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            textAlign: 'center',\n            color: 'rgb(153,153,153)',\n            fontSize: 'x-small'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }\n        }, \"\\u4EE5\\u4E0A\\u56FE\\u7247\\u4EC5\\u4F9B\\u53C2\\u8003\\uFF0C\\u8BF7\\u4EE5\\u6536\\u5230\\u5B9E\\u7269\\u4E3A\\u51C6\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"font\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 29\n          }\n        }, \"\\u9000\\u6539\\u8BF4\\u660E\\uFF1A\")), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"font\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 29\n          }\n        }, \"1. \\u5317\\u4EAC\\u3001\\u4E0A\\u6D77\\u3001\\u676D\\u5DDE\\u3001\\u5E7F\\u5DDE\\u5730\\u533A\\u8DDD\\u914D\\u9001\\u65F6\\u95F46\\u5C0F\\u65F6\\u53CA\\u4EE5\\u4E0A\\u7684\\u8BA2\\u5355\\u53EF\\u4FEE\\u6539\\u3001\\u53D6\\u6D88\\u3001\\u9000\\u8BA2\\uFF1B\\u8DDD\\u914D\\u9001\\u65F6\\u95F4\\u4E0D\\u8DB35\\u5C0F\\u65F6\\uFF0C\\u8BA2\\u5355\\u4E0D\\u518D\\u652F\\u6301\\u4FEE\\u6539\\u3001\\u53D6\\u6D88\\u3001\\u9000\\u8BA2\\u3002\\uFF0822\\u70B9\\u4E4B\\u540E\\u4E0D\\u63A5\\u53D7\\u6B21\\u65E514\\u70B9\\u4E4B\\u524D\\u914D\\u9001\\u8BA2\\u5355\\u4FEE\\u6539\\u3001\\u9000\\u8BA2\\uFF09\")), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            lineHeight: '20px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"font\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 56\n          }\n        }, \"2. \\u82CF\\u5DDE\\u3001\\u65E0\\u9521\\u3001\\u6DF1\\u5733\\u3001\\u5929\\u6D25\\u8DDD\\u914D\\u9001\\u65F6\\u95F4\\u4E0D\\u8DB38\\u5C0F\\u65F6\\uFF0C\\u8BA2\\u5355\\u4E0D\\u518D\\u652F\\u6301\\u4FEE\\u6539\\u3001\\u53D6\\u6D88\\u3001\\u9000\\u8BA2\\u3002\\uFF0822\\u70B9\\u4E4B\\u540E\\u4E0D\\u63A5\\u53D7\\u6B21\\u65E516\\u70B9\\u4E4B\\u524D\\u914D\\u9001\\u8BA2\\u5355\\u4FEE\\u6539\\u3001\\u9000\\u8BA2\\uFF09\")))));\n      }\n    };\n\n    this.add = gid => {\n      // console.log(this.state.datamsg[0]);\n      //根据商品id先查询这个商品信息，然后加到购物车\n      http.post('/shopcar/addgoods', {\n        gid: this.state.datamsg[0].gid,\n        img: this.state.datamsg[0].img,\n        cname: this.state.datamsg[0].chtitle,\n        ename: this.state.datamsg[0].egtitle,\n        weight: this.state.weight,\n        weight1: this.state.datamsg[0].weight1,\n        weight2: this.state.datamsg[0].weight2,\n        weight3: this.state.datamsg[0].weight3,\n        weight4: this.state.datamsg[0].weight4,\n        price: this.state.datamsg[0].price\n      }).then(res => {\n        console.log(res.data.p); //成功后弹出提醒\n\n        if (res.flag) {\n          successToast();\n        }\n      });\n    };\n  }\n\n  async componentDidMount() {\n    //识别是那个商品，然后请求数据\n    let gid = this.props.location.pathname.split(`${this.props.match.path}/`)[1]; // console.log(gid);\n\n    const {\n      data\n    } = await http.get('/good/getgood/' + gid); // console.log(data);\n\n    this.setState({\n      datamsg: [...data.p],\n      datalbt: [data.p[0].img0, data.p[0].img1, data.p[0].img2, data.p[0].img3]\n    });\n    this.changeweight(1);\n  }\n\n  render() {\n    let {\n      aa\n    } = this.state;\n    const {\n      datalbt,\n      datamsg\n    } = this.state;\n    const sidebar = /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-suspension-pop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"hide-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-suspension\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details-suspension-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"details-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 29\n      }\n    }, \"\\xA5198.00\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"suspension-spec-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"details-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"normal-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"detail-spec-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 33\n      }\n    }, \"\\u5546\\u54C1\\u89C4\\u683C\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"details-suspension-size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"cakeweight weight1 active\",\n      \"data-productid\": \"22042\",\n      onClick: this.changeweight.bind(null, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 41\n      }\n    }, \"454g\"), \"(1.0\\u78C5)\"), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-productid\": \"22050\",\n      className: \"cakeweight weight2 \",\n      id: \"weight2\",\n      onClick: this.changeweight.bind(null, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 41\n      }\n    }, \"908g\"), \"(2.0\\u78C5)\"), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-productid\": \"22058\",\n      className: \"cakeweight weight3 \",\n      id: \"weight3\",\n      onClick: this.changeweight.bind(null, 3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 41\n      }\n    }, \"1362g\"), \"(3.0\\u78C5)\"), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-productid\": \"22066\",\n      className: \"cakeweight weight4 \",\n      id: \"weight4\",\n      onClick: this.changeweight.bind(null, 4),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 41\n      }\n    }, \"1816g\"), \"(4.0\\u78C5)\")))))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"goods\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 13\n      }\n    }, datalbt ? this.showlbt() : null, datamsg ? this.showdatamsg() : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      id: \"appDownloadLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://m.21cake.com/appdown.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 25\n      }\n    }, \"\\u4E0B\\u8F7DAPP\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 25\n      }\n    }, \"\\u8054\\u7CFB\\u6211\\u4EEC\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }, \"\\u5168\\u7AD9\\u516C\\u544A\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 25\n      }\n    }, \"\\u751F\\u4EA7\\u7ECF\\u8425\\u8D44\\u8D28\"))), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginBottom: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }\n    }, \"Copyright\\xA9 21Cake\\u86CB\\u7CD5\\u5B98\\u7F51\\u5546\\u57CE 2007-2020,\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }\n    }), \"\\u7248\\u6743\\u6240\\u6709\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 21\n      }\n    }), \"\\u4EACICP\\u590714006254\\u53F7-1\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 21\n      }\n    }), \"\\u7F51\\u7AD9\\u6CE8\\u518C\\u516C\\u53F8\\u540D\\u79F0: \\u5317\\u4EAC\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }), \"\\u7F51\\u7AD9\\u8FD0\\u8425\\uFF1A\\u5EFF\\u4E00\\u5BA2\\uFF08\\u4E0A\\u6D77\\uFF09\\u7535\\u5B50\\u5546\\u52A1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }\n    }), \"\\u4E0A\\u6D77\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\\u5206\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    }), \"\\u676D\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }), \"\\u5E7F\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 21\n      }\n    }), \"\\u5317\\u4EAC\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 21\n      }\n    }), \"\\u6DF1\\u5733\\u5EFF\\u4E00\\u5BA2\\u8D38\\u6613\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }\n    }), \"\\u5929\\u6D25\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }\n    }), \"\\u5E7F\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u8D38\\u6613\\u6709\\u9650\\u516C\\u53F8\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 21\n      }\n    }), \"\\u4E3E\\u5B9E\\uFF08\\u4E0A\\u6D77\\uFF09\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\")), /*#__PURE__*/React.createElement(NavBar, {\n      mode: \"light\",\n      className: \"bottom-addcart-button\",\n      leftContent: [/*#__PURE__*/React.createElement(\"a\", {\n        key: \"0\",\n        className: \"left-buy\",\n        \"data-goods-id\": \"1318\",\n        onClick: datamsg ? this.add.bind(null, this.state.datamsg[0].gid) : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 25\n        }\n      }, \"\\u7ACB\\u5373\\u8D2D\\u4E70\")],\n      rightContent: [/*#__PURE__*/React.createElement(\"a\", {\n        key: \"0\",\n        className: \"join-cart\",\n        \"data-goods-id\": \"1318\",\n        onClick: this.openchange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 25\n        }\n      }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Drawer, {\n      className: \"goods-drawer\",\n      contentStyle: {\n        height: 0,\n        textAlign: \"center\"\n      },\n      overlayStyle: {\n        height: 0\n      },\n      sidebar: sidebar,\n      open: this.state.open,\n      position: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }\n    }, \"11112222222222\"), /*#__PURE__*/React.createElement(\"a\", {\n      id: \"webIm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nGoods = withRouter(Goods);\nexport default Goods;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/src/pages/Goods/index.js"],"names":["React","Component","Carousel","WingBlank","NavBar","Drawer","List","Toast","withRouter","http","successToast","success","Goods","state","datalbt","open","havechange","weight","openchange","args","goodsdrawer","document","getElementsByClassName","style","add","datamsg","gid","setState","close","changeweight","idx","checkweight","cakelis","i","length","classList","remove","str","cakeul","innerHTML","cakeprice","price","weight1","weight2","weight3","weight4","showlbt","map","val","index","display","width","height","imgHeight","verticalAlign","window","dispatchEvent","Event","showdatamsg","egtitle","chtitle","color","padding","background","marginTop","msg","msg1","simg0","simg1","simg2","simg3","textAlign","fontSize","lineHeight","post","img","cname","ename","then","res","console","log","data","p","flag","componentDidMount","props","location","pathname","split","match","path","get","img0","img1","img2","img3","render","aa","sidebar","bind","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Carousel,WingBlank, NavBar,Drawer, List,Toast} from 'antd-mobile';\r\nimport {withRouter} from 'react-router-dom';\r\nimport './goods.css'\r\nimport http from '../../utils/http'\r\n\r\n//成功提示框\r\nfunction successToast() {\r\n    Toast.success('成功添加到购物车！', 1);\r\n  }\r\n\r\nclass Goods extends Component {\r\n    state={\r\n        datalbt:null,\r\n        open: false,//抽屉\r\n        havechange:false,//是否选了规格，选的话就加入到购物车\r\n        weight:1,//默认是款式1\r\n    }\r\n    //打开商品选择框\r\n    openchange=(...args)=>{\r\n        let goodsdrawer=document.getElementsByClassName(\"goods-drawer\")[0]\r\n        //要先判断有没有选了规格，选了的话havechange就是true，那么就加入购物车，没有的话得选规格然后havechange变为true\r\n        if(this.state.havechange){\r\n            if(!this.state.open){\r\n                goodsdrawer.style=\"display:block\"\r\n            }else{\r\n                //把商品加入购物车,弹出加入成功\r\n                // console.log(this.state.datamsg[0].gid);\r\n                this.add(this.state.datamsg[0].gid)\r\n                goodsdrawer.style=\"display:none\"\r\n            }\r\n            \r\n        }else{\r\n            //没选规格，open是false打开选择框\r\n            if(!this.state.open){\r\n                goodsdrawer.style=\"display:block\"\r\n            }else{\r\n                goodsdrawer.style=\"display:none\"\r\n            }\r\n        }\r\n        \r\n        this.setState({open:!this.state.open,havechange:!this.state.havechange})\r\n        \r\n    }\r\n    close=()=>{\r\n        let goodsdrawer=document.getElementsByClassName(\"goods-drawer\")[0];\r\n        goodsdrawer.style=\"display:none\"\r\n        this.setState({open:false,havechange:false})\r\n    }\r\n    async componentDidMount(){\r\n        //识别是那个商品，然后请求数据\r\n        let gid= this.props.location.pathname.split(`${this.props.match.path}/`)[1];\r\n        // console.log(gid);\r\n        const {data}=await http.get('/good/getgood/'+gid);\r\n        // console.log(data);\r\n        this.setState({\r\n            datamsg:[...data.p],\r\n            datalbt:[data.p[0].img0,data.p[0].img1,data.p[0].img2,data.p[0].img3]\r\n          });\r\n          this.changeweight(1)\r\n    }\r\n    changeweight=(idx)=>{\r\n        //设置规格\r\n        this.setState({weight:idx});\r\n        // console.log(this.state);\r\n        // console.log(this.state.weight);这state设置是等我们点击事件结束才设置，所以此处log出来的还是原来的\r\n        // console.log(idx);\r\n        switch(idx){\r\n            //idx是一的话就高亮设置到1同事this.state.weight为1\r\n            case 1: this.checkweight(1)\r\n                break;\r\n            case 2:  this.checkweight(2)\r\n                break;\r\n            case 3:  this.checkweight(3)\r\n                break;\r\n            case 4:  this.checkweight(4)\r\n                break;\r\n            default:this.checkweight(1)\r\n\r\n        }\r\n    }\r\n    checkweight=(idx)=>{\r\n        //改变高亮\r\n        let cakelis=document.getElementsByClassName('cakeweight');\r\n        for(var i=0;i<cakelis.length;i++){\r\n            //移除所有高亮\r\n            cakelis[i].classList.remove('active')\r\n        }\r\n        //给目标设置高亮\r\n        cakelis[idx-1].classList.add('active');\r\n        //改变弹出框规格各个值\r\n        var str=`\r\n            <li className='details-options-size'>\r\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/size.png) no-repeat center;background-size:auto 100%\"></i>\r\n                ${12.5*idx}x${12.5*idx}cm\r\n            </li>\r\n            <li className='details-options-unmber'>\r\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/unmber.png) no-repeat center;background-size:auto 100%\"></i>\r\n                ${3*idx}-${5*idx}人\r\n            </li>\r\n            <li className='details-options-laid'>\r\n                <i style=\"background: url(https://static.21cake.com/themes/wap/img/laid.png) no-repeat center;background-size:auto 100%\"></i>\r\n                含${5*idx}套餐具（蜡烛需单独订购）\r\n            </li>`;\r\n        let cakeul= document.getElementsByClassName('details-options')[1];\r\n        cakeul.innerHTML=str;\r\n        //改变弹出框价格\r\n        let cakeprice = document.getElementsByClassName('details-price')[0]\r\n        cakeprice.innerHTML=`¥${this.state.datamsg[0].price*idx}.00`;\r\n        //改变datamsg[0]的weight值\r\n        // this.setState({\r\n        //     datamsg:{}\r\n        // });\r\n        switch(idx){\r\n            case 1: this.state.datamsg[0].weight1=1 ;this.state.datamsg[0].weight2=0 ;this.state.datamsg[0].weight3=0;this.state.datamsg[0].weight4=0\r\n                break;\r\n            case 2: this.state.datamsg[0].weight2=1 ;this.state.datamsg[0].weight1=0;this.state.datamsg[0].weight3=0;this.state.datamsg[0].weight4=0\r\n                break;\r\n            case 3: this.state.datamsg[0].weight3=1 ;this.state.datamsg[0].weight1=0;this.state.datamsg[0].weight2=0;this.state.datamsg[0].weight4=0\r\n                break;\r\n            case 4: this.state.datamsg[0].weight4=1 ;this.state.datamsg[0].weight1=0;this.state.datamsg[0].weight2=0;this.state.datamsg[0].weight3=0\r\n                break;\r\n        }\r\n        // console.log(this.state.datamsg[0]);\r\n        this.setState({datamsg:this.state.datamsg});\r\n    }\r\n    showlbt=()=>{\r\n        if(this.state.datalbt.length){\r\n            return (\r\n                <div>\r\n                    <WingBlank>\r\n                    <Carousel\r\n                            autoplay={false}\r\n                            infinite>\r\n                            {this.state.datalbt.map((val,index) => (\r\n                            <a\r\n                                key={val}\r\n                                href=\"\"\r\n                                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}>\r\n                                <img\r\n                                src={this.state.datalbt[index]}\r\n                                alt=\"\"\r\n                                style={{ width: '100%', verticalAlign: 'top' }}\r\n                                onLoad={() => {\r\n                                    window.dispatchEvent(new Event('resize'));\r\n                                    this.setState({ imgHeight: 'auto' });\r\n                                }}\r\n                                />\r\n                            </a>\r\n                            ))}\r\n                    </Carousel>\r\n                    </WingBlank>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    showdatamsg=()=>{\r\n        // console.log(\"进来showdatamsg\"+this.state.weight);\r\n        if(this.state.datamsg.length){\r\n            // console.log(this.state.datamsg[0]);\r\n            return (\r\n                <div className='details-box'>\r\n                    <div className='pro-title'>\r\n                        <h3>{this.state.datamsg[0].egtitle}</h3>\r\n                        <span>{this.state.datamsg[0].chtitle}</span>\r\n                    </div>\r\n                    <p className='price-label'>\r\n                        <span className='top-price'>{\"￥\"+this.state.datamsg[0].price*this.state.weight+\".00\"}</span>\r\n                    </p>\r\n                    <div className='pro-details-label'>\r\n                        <a>新品 ›</a>\r\n                    </div>\r\n                    <ul className='details-taste'>\r\n                        <li>\r\n                            <img src='https://static.21cake.com/themes/wap/img/goods/icon/micon-03.png' alt='酒'></img>\r\n                            酒\r\n                        </li>\r\n                        <li>\r\n                            <img src='https://static.21cake.com/themes/wap/img/goods/icon/micon-33.png' alt='奶油'></img>\r\n                            奶油\r\n                        </li>\r\n                        <li>\r\n                            <img src='https://static.21cake.com/upload/images/20200424/9a1558a50ef89716e49c6570bd667d0f.png' alt='树莓'></img>\r\n                            树莓\r\n                        </li>\r\n                    </ul>\r\n                    <div className='select-card'>\r\n                        <ul className='select-specifications'>\r\n                            <li>\r\n                                <a className='J-specifications' style={{color:'#442818'}}>\r\n                                {`已选择：${454*this.state.weight}g(${1*this.state.weight}.0磅)`}\r\n                                <i onClick={this.openchange}></i>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                        <div className='details-options-card'>\r\n                            <ul className='details-options'>\r\n                                <li className='details-options-size'>\r\n                                    <i></i>\r\n                                {`${12.5*this.state.weight}x${12.5*this.state.weight}cm`}\r\n                                </li>\r\n                                <li className='details-options-unmber'>\r\n                                    <i></i>\r\n                                    {`${3*this.state.weight}-${5*this.state.weight}人`}\r\n                                </li>\r\n                                <li className='details-options-laid'>\r\n                                    <i></i>\r\n                                    {`含${5*this.state.weight}套餐具（蜡烛需单独订购）`}\r\n                                </li>\r\n                                <li className='details-options-time'></li>\r\n                            </ul>\r\n                        </div>\r\n                        <ul className='store-info'>\r\n                            <li>\r\n                                <img src='https://static.21cake.com/themes/wap/img/fresh.png' alt=\"保鲜条件\"></img>\r\n                                <span>保鲜条件</span>\r\n                                <div>\r\n                                    <p>0－4℃保藏10小时，5℃食用为佳</p>\r\n                                </div>\r\n                            </li>\r\n                            <li data-sweet='3' id='sweetList'>\r\n                                <img src='https://m.21cake.com/themes/wap/img/sweet.png'></img>\r\n                                <span>参考甜度</span>\r\n                                <div>\r\n                                    <p className='sweet-list'>\r\n                                        <i className='active'></i>\r\n                                        <i className='active'></i>\r\n                                        <i className='active'></i>\r\n                                        <i ></i>\r\n                                        <i></i>\r\n                                    </p>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className='details-introduction'>\r\n                    <div style={{padding:'15px',background:'#fff',marginTop:'12px'}}>\r\n                    {this.state.datamsg[0].msg}\r\n                    <br></br>\r\n                    {this.state.datamsg[0].msg1}\r\n                    </div>\r\n                    <div className='details-img'>\r\n                        <img src={this.state.datamsg[0].simg0}></img>\r\n                        <img src={this.state.datamsg[0].simg1}></img>\r\n                        <img src={this.state.datamsg[0].simg2}></img>\r\n                        <img src={this.state.datamsg[0].simg3}></img>\r\n                        <p style={{textAlign:'center',color:'rgb(153,153,153)',fontSize:'x-small'}}>以上图片仅供参考，请以收到实物为准。</p>\r\n                        <p ><font>退改说明：</font></p>\r\n                        <p ><font>1. 北京、上海、杭州、广州地区距配送时间6小时及以上的订单可修改、取消、退订；距配送时间不足5小时，订单不再支持修改、取消、退订。（22点之后不接受次日14点之前配送订单修改、退订）</font></p>\r\n                        <p style={{lineHeight:'20px'}}><font>2. 苏州、无锡、深圳、天津距配送时间不足8小时，订单不再支持修改、取消、退订。（22点之后不接受次日16点之前配送订单修改、退订）</font></p>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    //添加商品\r\n    add=(gid)=>{\r\n        // console.log(this.state.datamsg[0]);\r\n        //根据商品id先查询这个商品信息，然后加到购物车\r\n          http.post('/shopcar/addgoods',{\r\n              gid:this.state.datamsg[0].gid,\r\n              img:this.state.datamsg[0].img,\r\n              cname:this.state.datamsg[0].chtitle,\r\n              ename:this.state.datamsg[0].egtitle,\r\n              weight:this.state.weight,\r\n              weight1:this.state.datamsg[0].weight1,\r\n              weight2:this.state.datamsg[0].weight2,\r\n              weight3:this.state.datamsg[0].weight3,\r\n              weight4:this.state.datamsg[0].weight4,\r\n              price:this.state.datamsg[0].price}).then(res=>{\r\n            console.log(res.data.p);\r\n          //成功后弹出提醒\r\n          if(res.flag){\r\n            successToast()\r\n          }\r\n          })\r\n      }\r\n    render() {\r\n        let {aa}=this.state\r\n        const {datalbt,datamsg} = this.state;\r\n        const sidebar=(<List>{\r\n                <div className='details-suspension-pop'>\r\n                    <i className='hide-button'></i>\r\n                    <div className='details-suspension'>\r\n                        <i onClick={this.close}></i>\r\n                        <div className='details-suspension-content'>\r\n                            <p className='details-price'>¥198.00</p>\r\n                            <div className='suspension-spec-box'>\r\n                                <ul className='details-options'>\r\n                                </ul>\r\n                            </div>\r\n                            <div className='normal-box'>\r\n                                <p className='detail-spec-title'>商品规格</p>\r\n                                <ul className='details-suspension-size'>\r\n                                    <li className='cakeweight weight1 active' data-productid='22042' onClick={this.changeweight.bind(null,1)}>\r\n                                        <span>454g</span>\r\n                                        (1.0磅)\r\n                                    </li>\r\n                                    <li data-productid='22050' className='cakeweight weight2 ' id='weight2' onClick={this.changeweight.bind(null,2)} >\r\n                                        <span>908g</span>\r\n                                        (2.0磅)\r\n                                    </li>\r\n                                    <li data-productid='22058' className='cakeweight weight3 ' id='weight3' onClick={this.changeweight.bind(null,3)}>\r\n                                        <span>1362g</span>\r\n                                        (3.0磅)\r\n                                    </li>\r\n                                    <li data-productid='22066' className='cakeweight weight4 ' id='weight4' onClick={this.changeweight.bind(null,4)}>\r\n                                        <span>1816g</span>\r\n                                        (4.0磅)\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </List>)\r\n        return (\r\n            <div className=\"goods\">\r\n                {/* 有数据才渲染没数据不渲染 */}\r\n                {datalbt ? this.showlbt(): null}\r\n                {datamsg ? this.showdatamsg(): null}\r\n                <div className='footer'>\r\n                    <ul>\r\n                    <li id='appDownloadLink'>\r\n                        <a href='https://m.21cake.com/appdown.html'>下载APP</a>\r\n                    </li>\r\n                    <li>\r\n                        <a >联系我们</a>\r\n                    </li>\r\n                    <li>\r\n                        <a >全站公告</a>\r\n                    </li>\r\n                    <li>\r\n                        <a >生产经营资质</a>\r\n                    </li>\r\n                    </ul>\r\n                    <p style={{marginBottom:'30px'}}>\r\n                    Copyright© 21Cake蛋糕官网商城 2007-2020, \r\n                    <br></br>        \r\n                    版权所有 \r\n                    <br></br>  \r\n                    京ICP备14006254号-1\r\n                    <br></br>  \r\n                    网站注册公司名称: 北京廿一客食品有限公司\r\n                    <br></br>  \r\n                    网站运营：廿一客（上海）电子商务有限公司\r\n                    <br></br>  \r\n                    上海廿一客食品有限公司分公司\r\n                    <br></br>  \r\n                    杭州廿一客食品有限公司\r\n                    <br></br>  \r\n                    广州廿一客食品有限公司\r\n                    <br></br>  \r\n                    北京廿一客食品有限公司\r\n                    <br></br>  \r\n                    深圳廿一客贸易有限公司\r\n                    <br></br>  \r\n                    天津廿一客食品有限公司\r\n                    <br></br>  \r\n                    广州廿一客食品贸易有限公司\r\n                    <br></br>  \r\n                    举实（上海）食品有限公司\r\n                    </p>\r\n                </div>\r\n                <NavBar\r\n                    mode=\"light\"\r\n                    className='bottom-addcart-button'\r\n                    leftContent={[\r\n                        <a key='0' className='left-buy' data-goods-id='1318' onClick={datamsg ? this.add.bind(null,this.state.datamsg[0].gid) : null}>立即购买</a>\r\n                    ]}\r\n                    rightContent={[\r\n                        <a key='0' className='join-cart' data-goods-id='1318' onClick={this.openchange}>加入购物车</a>\r\n                    ]}\r\n                >\r\n                </NavBar>\r\n                <Drawer\r\n                className=\"goods-drawer\"\r\n                contentStyle={{height:0,textAlign:\"center\"}}\r\n                overlayStyle={{height:0}}\r\n                sidebar={sidebar}\r\n                open={this.state.open}\r\n                position='bottom'\r\n                >\r\n                11112222222222\r\n                </Drawer>\r\n                <a id='webIm'></a>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nGoods = withRouter(Goods)\r\nexport default Goods"]},"metadata":{},"sourceType":"module"}