{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport TouchFeedback from 'rmc-feedback';\nimport getDataAttr from '../_util/getDataAttr';\nimport Icon from '../icon';\n\nvar Tag = function (_React$Component) {\n  _inherits(Tag, _React$Component);\n\n  function Tag(props) {\n    _classCallCheck(this, Tag);\n\n    var _this = _possibleConstructorReturn(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props));\n\n    _this.onClick = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      var isSelect = _this.state.selected;\n\n      _this.setState({\n        selected: !isSelect\n      }, function () {\n        if (onChange) {\n          onChange(!isSelect);\n        }\n      });\n    };\n\n    _this.onTagClose = function () {\n      if (_this.props.onClose) {\n        _this.props.onClose();\n      }\n\n      _this.setState({\n        closed: true\n      }, _this.props.afterClose);\n    };\n\n    _this.state = {\n      selected: props.selected,\n      closed: false\n    };\n    return _this;\n  }\n\n  _createClass(Tag, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.selected !== nextProps.selected) {\n        this.setState({\n          selected: nextProps.selected\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          disabled = _props.disabled,\n          closable = _props.closable,\n          small = _props.small,\n          style = _props.style;\n      var wrapCls = classnames(className, prefixCls, (_classnames = {}, _defineProperty(_classnames, prefixCls + '-normal', !disabled && (!this.state.selected || small || closable)), _defineProperty(_classnames, prefixCls + '-small', small), _defineProperty(_classnames, prefixCls + '-active', this.state.selected && !disabled && !small && !closable), _defineProperty(_classnames, prefixCls + '-disabled', disabled), _defineProperty(_classnames, prefixCls + '-closable', closable), _classnames));\n      var closableDom = closable && !disabled && !small ? React.createElement(TouchFeedback, {\n        activeClassName: prefixCls + '-close-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-close',\n        role: 'button',\n        onClick: this.onTagClose,\n        'aria-label': 'remove tag'\n      }, React.createElement(Icon, {\n        type: 'cross-circle',\n        size: 'xs',\n        'aria-hidden': 'true'\n      }))) : null;\n      return !this.state.closed ? React.createElement('div', _extends({}, getDataAttr(this.props), {\n        className: wrapCls,\n        onClick: this.onClick,\n        style: style\n      }), React.createElement('div', {\n        className: prefixCls + '-text'\n      }, children), closableDom) : null;\n    }\n  }]);\n\n  return Tag;\n}(React.Component);\n\nexport default Tag;\nTag.defaultProps = {\n  prefixCls: 'am-tag',\n  disabled: false,\n  selected: false,\n  closable: false,\n  small: false,\n  onChange: function onChange() {},\n  onClose: function onClose() {},\n  afterClose: function afterClose() {}\n};","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/antd-mobile/es/tag/index.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","classnames","React","TouchFeedback","getDataAttr","Icon","Tag","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","onClick","_this$props","disabled","onChange","isSelect","state","selected","setState","onTagClose","onClose","closed","afterClose","key","value","componentWillReceiveProps","nextProps","render","_classnames","_props","children","className","prefixCls","closable","small","style","wrapCls","closableDom","createElement","activeClassName","role","type","size","Component","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport classnames from 'classnames';\nimport * as React from 'react';\nimport TouchFeedback from 'rmc-feedback';\nimport getDataAttr from '../_util/getDataAttr';\nimport Icon from '../icon';\n\nvar Tag = function (_React$Component) {\n    _inherits(Tag, _React$Component);\n\n    function Tag(props) {\n        _classCallCheck(this, Tag);\n\n        var _this = _possibleConstructorReturn(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props));\n\n        _this.onClick = function () {\n            var _this$props = _this.props,\n                disabled = _this$props.disabled,\n                onChange = _this$props.onChange;\n\n            if (disabled) {\n                return;\n            }\n            var isSelect = _this.state.selected;\n            _this.setState({\n                selected: !isSelect\n            }, function () {\n                if (onChange) {\n                    onChange(!isSelect);\n                }\n            });\n        };\n        _this.onTagClose = function () {\n            if (_this.props.onClose) {\n                _this.props.onClose();\n            }\n            _this.setState({\n                closed: true\n            }, _this.props.afterClose);\n        };\n        _this.state = {\n            selected: props.selected,\n            closed: false\n        };\n        return _this;\n    }\n\n    _createClass(Tag, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.selected !== nextProps.selected) {\n                this.setState({\n                    selected: nextProps.selected\n                });\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classnames;\n\n            var _props = this.props,\n                children = _props.children,\n                className = _props.className,\n                prefixCls = _props.prefixCls,\n                disabled = _props.disabled,\n                closable = _props.closable,\n                small = _props.small,\n                style = _props.style;\n\n            var wrapCls = classnames(className, prefixCls, (_classnames = {}, _defineProperty(_classnames, prefixCls + '-normal', !disabled && (!this.state.selected || small || closable)), _defineProperty(_classnames, prefixCls + '-small', small), _defineProperty(_classnames, prefixCls + '-active', this.state.selected && !disabled && !small && !closable), _defineProperty(_classnames, prefixCls + '-disabled', disabled), _defineProperty(_classnames, prefixCls + '-closable', closable), _classnames));\n            var closableDom = closable && !disabled && !small ? React.createElement(\n                TouchFeedback,\n                { activeClassName: prefixCls + '-close-active' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-close', role: 'button', onClick: this.onTagClose, 'aria-label': 'remove tag' },\n                    React.createElement(Icon, { type: 'cross-circle', size: 'xs', 'aria-hidden': 'true' })\n                )\n            ) : null;\n            return !this.state.closed ? React.createElement(\n                'div',\n                _extends({}, getDataAttr(this.props), { className: wrapCls, onClick: this.onClick, style: style }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-text' },\n                    children\n                ),\n                closableDom\n            ) : null;\n        }\n    }]);\n\n    return Tag;\n}(React.Component);\n\nexport default Tag;\n\nTag.defaultProps = {\n    prefixCls: 'am-tag',\n    disabled: false,\n    selected: false,\n    closable: false,\n    small: false,\n    onChange: function onChange() {},\n    onClose: function onClose() {},\n    afterClose: function afterClose() {}\n};"]},"metadata":{},"sourceType":"module"}