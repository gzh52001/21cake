{"ast":null,"code":"import _regeneratorRuntime from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\1111111111\\\\demo2\\\\\\u7EBF\\u4E0B\\u4E09\\u9636\\u6BB5\\\\\\u4E09\\u9636\\u6BB5\\u5C0F\\u7EC4\\u9879\\u76EE\\\\react\\\\21cake\\\\mycake\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Carousel,WingBlank,Toast}from'antd-mobile';import'./home.css';import{withRouter}from'react-router-dom';// import Bread from '../Type/Bread/index';\n// import Cake from '../Type/Cake/index';\n// import CCake from '../Type/CCake/index';\n// import Gift from '../Type/Gift/index';\n// import IceCream from '../Type/IceCream/index';\n// import Tea from '../Type/Tea/index'\nimport http from'../../utils/http';//成功提示框\nfunction successToast(){Toast.success('成功添加到购物车！',1);}var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={lbtdata:['https://static.21cake.com//upload/images/8dd6c441b4acda5e0651af43a81b9731.jpg','https://static.21cake.com//upload/images/f85354a7eb45dc3725b5b595a393d6ae.jpg','https://static.21cake.com//upload/images/350655c7460cc54297919171f6ebae9c.jpeg','https://static.21cake.com//upload/images/ca9e0211b2910589238cd68ed38dc3c3.jpg','https://static.21cake.com//upload/images/ce9c53ee52de5d6bcb1e6747e8e25dd7.jpg'],imgHeight:176,typedata:[{title:'蛋糕',path:'type/cake',img:'https://static.21cake.com//upload/images/145995dff6c6458e0738ee2178a1a0df.png'// component:Cake\n},{title:'面包',path:'type/bread',img:'https://static.21cake.com//upload/images/561ca3d60f16a63299fd16d3e9e0c3c4.png'// component:Bread\n},{title:'下午茶',path:'type/tea',img:'https://static.21cake.com//upload/images/3b70ed637c61fc696faa7e983726ed7d.png'// component:Tea\n},{title:'企业专区',path:'type/cake',img:'https://static.21cake.com//upload/images/760d7a2fe4c5e1bede87389fc843de7f.png'// component:Gift\n}]};_this.goto=function(path){_this.props.history.push(path);};_this.showdata=function(){//数据没到就不渲染，数据到了就渲染\nif(_this.state.cakedata){//传过来的商品\nreturn _this.state.cakedata.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"mould-goods\",key:item.gid},/*#__PURE__*/React.createElement(\"div\",{className:\"mould-goods-content\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"title-goods\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u65B0\\u54C1\"),/*#__PURE__*/React.createElement(\"a\",null,\"\\u66F4\\u591A\",/*#__PURE__*/React.createElement(\"i\",{className:\"new-home-more\"}))),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:'http://localhost:3000/#/goods/'+item.gid},/*#__PURE__*/React.createElement(\"img\",{src:item.img})),/*#__PURE__*/React.createElement(\"div\",{className:\"bottom-price-cart\"},/*#__PURE__*/React.createElement(\"a\",{href:'http://localhost:3000/#/goods/'+item.gid},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},item.chtitle),/*#__PURE__*/React.createElement(\"span\",{className:\"price\"},item.price),/*#__PURE__*/React.createElement(\"span\",null,\"\\u5143/454g(1.0\\u78C5)\")),/*#__PURE__*/React.createElement(\"p\",null,\"\\u6811\\u8393\\u5976\\u6CB9\\u4E0E\\u6D46\\u679C\\u6155\\u65AF\\u86CB\\u7CD5\")),/*#__PURE__*/React.createElement(\"button\",{className:\"add-to-cart_22010\"},/*#__PURE__*/React.createElement(\"i\",{className:\"new-home-icon\",onClick:_this.add.bind(null,item.gid)})))))));});}};_this.showwenzhang=function(){if(_this.state.wenzhang){// console.log(this.state.wenzhang);\nreturn _this.state.wenzhang.map(function(item,index){return/*#__PURE__*/ (// console.log(item),\nReact.createElement(\"div\",{className:\"left-img-div\",key:index},/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"wzimg\",style:{background:\"url(\"+item.img+\") no-repeat\",backgroundSize:'100%'}}),/*#__PURE__*/React.createElement(\"h6\",null,item.title))));});}};_this.add=function(gid){// console.log(gid);\n//根据商品id先查询这个商品信息，然后加到购物车\nhttp.get('/good/getgood/'+gid).then(function(res){//获取改商品信息\nvar goodmsg=res.data.p[0];goodmsg.num++;//然后存到数据库，购物车那边再调用\nconsole.log(goodmsg);http.post('/shopcar/addgoods',{gid:goodmsg.gid,img:goodmsg.img,cname:goodmsg.chtitle,ename:goodmsg.egtitle,weight:goodmsg.weight,weight1:1,weight2:goodmsg.weight2,weight3:goodmsg.weight3,weight4:goodmsg.weight4,price:goodmsg.price}).then(function(res){console.log(res);//成功后弹出提醒\nif(res.flag){successToast();}});});};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$http$get,data,wenzhang;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return http.get('/good/goodslist',{page:1,size:5});case 2:_yield$http$get=_context.sent;data=_yield$http$get.data;_context.next=6;return http.get('/wz/wenzhang',{id:'pdx'});case 6:wenzhang=_context.sent;// console.log(wenzhang);\n// const cakedata=data;\n//把数据添加到state\nthis.setState({cakedata:_toConsumableArray(data),wenzhang:_toConsumableArray(wenzhang.data)});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var typedata=this.state.typedata;var cakedata=this.state.cakedata;var wenzhang=this.state.wenzhang;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(WingBlank,null,/*#__PURE__*/React.createElement(Carousel,{autoplay:true,infinite:true},this.state.lbtdata.map(function(val,index){return/*#__PURE__*/React.createElement(\"a\",{key:val,href:\"\",style:{display:'inline-block',width:'100%',height:_this2.state.imgHeight}},/*#__PURE__*/React.createElement(\"img\",{src:_this2.state.lbtdata[index],alt:\"\",style:{width:'100%',verticalAlign:'top'},onLoad:function onLoad(){window.dispatchEvent(new Event('resize'));_this2.setState({imgHeight:'auto'});}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"new-home-content\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"right-box\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"new-home-icon\"}),\"\\u65B0\\u5BA2\\u6EE1298\\u5143\\u8D60\\u9001\\u5207\\u5757\\u86CB\\u7CD5\"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"new-home-icon\"}),\"\\u6EE1100\\u5305\\u90AE\"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"new-home-icon\"}),\"\\u5168\\u7A0B\\u51B7\\u94FE\\u914D\\u9001\")),/*#__PURE__*/React.createElement(\"ul\",{className:\"home-menu-box\",id:\"home-menu\"},this.state.typedata.map(function(val,index){return/*#__PURE__*/React.createElement(\"li\",{key:val.title,onClick:_this2.goto.bind(null,val.path)},/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"img\",{src:val.img}),val.title));})),this.showdata(),/*#__PURE__*/React.createElement(\"div\",{className:\"home-mould mould-activity\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"\\u5EFF\\u4E00\\u5BA2\\xB7\\u6D3B\\u52A8\")),/*#__PURE__*/React.createElement(\"div\",{className:\"mould-activity-box activity-swiper-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mould-activity-list swiper-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"swiper-slide\"},/*#__PURE__*/React.createElement(\"a\",{href:\"https://m.21cake.com/magazine/detail/241.html\"},/*#__PURE__*/React.createElement(\"div\",{className:\"left-text\"},/*#__PURE__*/React.createElement(\"h6\",null,\"\\u65B0\\u5BA2\\u6743\\u76CA\"),/*#__PURE__*/React.createElement(\"p\",null,\"\\u70B9\\u51FB\\u67E5\\u770B\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u53EA\\u5269167\\u5929\")),/*#__PURE__*/React.createElement(\"div\",{className:\"right-img\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://static.21cake.com//upload/images/9bfa8ea6a193c5877646c375119515ef.jpg\"})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"home-mould mould-community magazine\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"\\u5EFF\\u4E00\\u5BA2\\xB7\\u6587\\u7AE0\")),/*#__PURE__*/React.createElement(\"div\",{className:\"home-community-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"community-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"left-img\"},this.showwenzhang()),/*#__PURE__*/React.createElement(\"div\",{className:\"look_more\"},/*#__PURE__*/React.createElement(\"a\",{href:\"https://m.21cake.com/magazine.html\"},\"\\u67E5\\u770B\\u66F4\\u591A\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"lost-bottom\"},/*#__PURE__*/React.createElement(\"div\",null,\"\\u6CA1\\u4E86\")),/*#__PURE__*/React.createElement(\"div\",{className:\"footer\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{id:\"appDownloadLink\"},/*#__PURE__*/React.createElement(\"a\",{href:\"https://m.21cake.com/appdown.html\"},\"\\u4E0B\\u8F7DAPP\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",null,\"\\u8054\\u7CFB\\u6211\\u4EEC\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",null,\"\\u5168\\u7AD9\\u516C\\u544A\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",null,\"\\u751F\\u4EA7\\u7ECF\\u8425\\u8D44\\u8D28\"))),/*#__PURE__*/React.createElement(\"p\",null,\"Copyright\\xA9 21Cake\\u86CB\\u7CD5\\u5B98\\u7F51\\u5546\\u57CE 2007-2020,\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u7248\\u6743\\u6240\\u6709\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u4EACICP\\u590714006254\\u53F7-1\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u7F51\\u7AD9\\u6CE8\\u518C\\u516C\\u53F8\\u540D\\u79F0: \\u5317\\u4EAC\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u7F51\\u7AD9\\u8FD0\\u8425\\uFF1A\\u5EFF\\u4E00\\u5BA2\\uFF08\\u4E0A\\u6D77\\uFF09\\u7535\\u5B50\\u5546\\u52A1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u4E0A\\u6D77\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\\u5206\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u676D\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u5E7F\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u5317\\u4EAC\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u6DF1\\u5733\\u5EFF\\u4E00\\u5BA2\\u8D38\\u6613\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u5929\\u6D25\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u5E7F\\u5DDE\\u5EFF\\u4E00\\u5BA2\\u98DF\\u54C1\\u8D38\\u6613\\u6709\\u9650\\u516C\\u53F8\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u4E3E\\u5B9E\\uFF08\\u4E0A\\u6D77\\uFF09\\u98DF\\u54C1\\u6709\\u9650\\u516C\\u53F8\")));}}]);return Home;}(Component);Home=withRouter(Home);export default Home;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/src/pages/Home/index.js"],"names":["React","Component","Carousel","WingBlank","Toast","withRouter","http","successToast","success","Home","state","lbtdata","imgHeight","typedata","title","path","img","goto","props","history","push","showdata","cakedata","map","item","index","gid","chtitle","price","add","bind","showwenzhang","wenzhang","background","backgroundSize","get","then","res","goodmsg","data","p","num","console","log","post","cname","ename","egtitle","weight","weight1","weight2","weight3","weight4","flag","page","size","id","setState","val","display","width","height","verticalAlign","window","dispatchEvent","Event"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Carousel,WingBlank,Toast} from 'antd-mobile';\r\nimport './home.css'\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n// import Bread from '../Type/Bread/index';\r\n// import Cake from '../Type/Cake/index';\r\n// import CCake from '../Type/CCake/index';\r\n// import Gift from '../Type/Gift/index';\r\n// import IceCream from '../Type/IceCream/index';\r\n// import Tea from '../Type/Tea/index'\r\nimport http from '../../utils/http'\r\n\r\n//成功提示框\r\nfunction successToast() {\r\n  Toast.success('成功添加到购物车！', 1);\r\n}\r\n\r\n class Home extends Component {\r\n    state = {\r\n        lbtdata: [\r\n        'https://static.21cake.com//upload/images/8dd6c441b4acda5e0651af43a81b9731.jpg',\r\n        'https://static.21cake.com//upload/images/f85354a7eb45dc3725b5b595a393d6ae.jpg',\r\n        'https://static.21cake.com//upload/images/350655c7460cc54297919171f6ebae9c.jpeg',\r\n        'https://static.21cake.com//upload/images/ca9e0211b2910589238cd68ed38dc3c3.jpg',\r\n        'https://static.21cake.com//upload/images/ce9c53ee52de5d6bcb1e6747e8e25dd7.jpg'\r\n        ],\r\n        imgHeight: 176,\r\n        typedata:[\r\n          {\r\n            title:'蛋糕',\r\n            path:'type/cake',\r\n            img:'https://static.21cake.com//upload/images/145995dff6c6458e0738ee2178a1a0df.png',\r\n            // component:Cake\r\n          },\r\n          {\r\n            title:'面包',\r\n            path:'type/bread',\r\n            img:'https://static.21cake.com//upload/images/561ca3d60f16a63299fd16d3e9e0c3c4.png',\r\n            // component:Bread\r\n          },\r\n          {\r\n            title:'下午茶',\r\n            path:'type/tea',\r\n            img:'https://static.21cake.com//upload/images/3b70ed637c61fc696faa7e983726ed7d.png',\r\n            // component:Tea\r\n          },\r\n          {\r\n            title:'企业专区',\r\n            path:'type/cake',\r\n            img:'https://static.21cake.com//upload/images/760d7a2fe4c5e1bede87389fc843de7f.png',\r\n            // component:Gift\r\n          }\r\n        ],\r\n      }\r\n      goto=(path)=>{\r\n        this.props.history.push(path)\r\n      }\r\n      async componentDidMount() {\r\n        //请求商品数据\r\n        const {data} = await http.get('/good/goodslist',{page:1,size:5});\r\n        //请求底部文章数据\r\n        const wenzhang = await http.get('/wz/wenzhang',{id:'pdx'})\r\n        // console.log(wenzhang);\r\n        // const cakedata=data;\r\n        //把数据添加到state\r\n        this.setState({\r\n          cakedata:[...data],\r\n          wenzhang:[...wenzhang.data]\r\n        })\r\n      }\r\n      showdata=()=>{\r\n        //数据没到就不渲染，数据到了就渲染\r\n        if(this.state.cakedata){\r\n          //传过来的商品\r\n          return (\r\n            this.state.cakedata.map((item,index)=>(\r\n              <div className=\"mould-goods\" key={item.gid} >\r\n                <div className=\"mould-goods-content\">\r\n                  <h3 className=\"title-goods\">\r\n                    <span>新品</span>\r\n                    <a>\r\n                      更多\r\n                      <i className=\"new-home-more\"></i>\r\n                    </a>\r\n                  </h3>\r\n                  <ul>\r\n                    <li>\r\n                      <a href={'http://localhost:3000/#/goods/'+item.gid}>\r\n                        <img src={item.img}/>\r\n                      </a>\r\n                      <div className='bottom-price-cart'>\r\n                        <a href={'http://localhost:3000/#/goods/'+item.gid}>\r\n                          <h4>\r\n                            <span className=\"title\">{item.chtitle}</span>\r\n                            <span className=\"price\">{item.price}</span>\r\n                            <span >元/454g(1.0磅)</span>\r\n                          </h4>\r\n                          <p>树莓奶油与浆果慕斯蛋糕</p>\r\n                        </a>\r\n                        <button className=\"add-to-cart_22010\">\r\n                          <i className='new-home-icon' onClick={this.add.bind(null,item.gid)}></i>\r\n                        </button>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )\r\n        }\r\n      }\r\n      //首页底部文章活动\r\n      showwenzhang=()=>{\r\n        \r\n        if(this.state.wenzhang){\r\n          // console.log(this.state.wenzhang);\r\n          return (\r\n            this.state.wenzhang.map((item,index)=>(\r\n              // console.log(item),\r\n                <div className='left-img-div' key={index}>\r\n                  <a>\r\n                    <div className='wzimg' style={{background:\"url(\"+item.img+\") no-repeat\",backgroundSize:'100%'}}></div>\r\n                    <h6>{item.title}</h6>\r\n                  </a>\r\n                </div>\r\n            ))\r\n          )\r\n        }\r\n      }\r\n      //添加商品\r\n      add=(gid)=>{\r\n        // console.log(gid);\r\n        //根据商品id先查询这个商品信息，然后加到购物车\r\n        http.get('/good/getgood/'+gid).then(res=>{\r\n          //获取改商品信息\r\n          let goodmsg= res.data.p[0];\r\n          goodmsg.num++;\r\n          //然后存到数据库，购物车那边再调用\r\n          console.log(goodmsg);\r\n          http.post('/shopcar/addgoods',{\r\n            gid:goodmsg.gid,\r\n            img:goodmsg.img,\r\n            cname:goodmsg.chtitle,\r\n            ename:goodmsg.egtitle,\r\n            weight:goodmsg.weight,\r\n            weight1:1,\r\n            weight2:goodmsg.weight2,\r\n            weight3:goodmsg.weight3,\r\n            weight4:goodmsg.weight4,\r\n            price:goodmsg.price\r\n          }).then(res=>{\r\n            console.log(res);\r\n          //成功后弹出提醒\r\n          if(res.flag){\r\n            successToast()\r\n          }\r\n          \r\n          })\r\n        });\r\n      }\r\n      render() {\r\n        const {typedata} = this.state;\r\n        const {cakedata}=this.state;\r\n        const {wenzhang}=this.state\r\n        return (\r\n          <div>\r\n              <WingBlank>\r\n              <Carousel\r\n                autoplay={true}\r\n                infinite\r\n              >\r\n                {this.state.lbtdata.map((val,index) => (\r\n                  <a\r\n                    key={val}\r\n                    href=\"\"\r\n                    style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\r\n                  >\r\n                    <img\r\n                      src={this.state.lbtdata[index]}\r\n                      alt=\"\"\r\n                      style={{ width: '100%', verticalAlign: 'top' }}\r\n                      onLoad={() => {\r\n                        window.dispatchEvent(new Event('resize'));\r\n                        this.setState({ imgHeight: 'auto' });\r\n                      }}\r\n                    />\r\n                  </a>\r\n                ))}\r\n              </Carousel>\r\n              </WingBlank>\r\n              <div className=\"new-home-content\">\r\n                <ul className=\"right-box\">\r\n                  <li>\r\n                    <i className=\"new-home-icon\"></i>\r\n                    新客满298元赠送切块蛋糕\r\n                  </li>\r\n                  <li>\r\n                    <i className=\"new-home-icon\"></i>\r\n                    满100包邮 \r\n                  </li>\r\n                  <li>\r\n                    <i className=\"new-home-icon\"></i>\r\n                    全程冷链配送\r\n                  </li>\r\n                </ul>\r\n                {/* 蛋糕面包下午茶专区 */}\r\n                <ul className=\"home-menu-box\" id=\"home-menu\">\r\n                  {this.state.typedata.map((val,index) => (\r\n                    <li\r\n                      key={val.title}\r\n                      onClick={this.goto.bind(null,val.path)}\r\n                    >\r\n                      <a>\r\n                        <img src={val.img} />\r\n                        {val.title}\r\n                      </a>\r\n                    </li>))\r\n                  }\r\n                </ul>\r\n                {this.showdata()}\r\n                <div className='home-mould mould-activity'>\r\n                  <h3>\r\n                    <span>廿一客·活动</span>\r\n                  </h3>\r\n                  <div className='mould-activity-box activity-swiper-container'>\r\n                    <div className='mould-activity-list swiper-wrapper'>\r\n                      <div className='swiper-slide'>\r\n                        <a href='https://m.21cake.com/magazine/detail/241.html'>\r\n                          <div className='left-text'>\r\n                            <h6>新客权益</h6>\r\n                            <p>点击查看</p>\r\n                            <span>只剩167天</span>\r\n                          </div>\r\n                          <div className='right-img'>\r\n                            <img src='https://static.21cake.com//upload/images/9bfa8ea6a193c5877646c375119515ef.jpg'></img>\r\n                          </div>\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='home-mould mould-community magazine'>\r\n                <h3>\r\n                  <span>廿一客·文章</span>\r\n                </h3>\r\n                <div className='home-community-content'>\r\n                  <div className='community-list'>\r\n                    <div className='left-img'>\r\n                      {this.showwenzhang()}\r\n                    </div>\r\n                    <div className='look_more'>\r\n                      <a href='https://m.21cake.com/magazine.html'>查看更多</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n               \r\n              </div>\r\n              <div className='lost-bottom'>\r\n                <div>没了</div>\r\n              </div>\r\n              <div className='footer'>\r\n                <ul>\r\n                  <li id='appDownloadLink'>\r\n                    <a href='https://m.21cake.com/appdown.html'>下载APP</a>\r\n                  </li>\r\n                  <li>\r\n                    <a >联系我们</a>\r\n                  </li>\r\n                  <li>\r\n                    <a >全站公告</a>\r\n                  </li>\r\n                  <li>\r\n                    <a >生产经营资质</a>\r\n                  </li>\r\n                </ul>\r\n                <p>\r\n                  Copyright© 21Cake蛋糕官网商城 2007-2020, \r\n                  <br></br>        \r\n                  版权所有 \r\n                  <br></br>  \r\n                  京ICP备14006254号-1\r\n                  <br></br>  \r\n                  网站注册公司名称: 北京廿一客食品有限公司\r\n                  <br></br>  \r\n                  网站运营：廿一客（上海）电子商务有限公司\r\n                  <br></br>  \r\n                  上海廿一客食品有限公司分公司\r\n                  <br></br>  \r\n                  杭州廿一客食品有限公司\r\n                  <br></br>  \r\n                  广州廿一客食品有限公司\r\n                  <br></br>  \r\n                  北京廿一客食品有限公司\r\n                  <br></br>  \r\n                  深圳廿一客贸易有限公司\r\n                  <br></br>  \r\n                  天津廿一客食品有限公司\r\n                  <br></br>  \r\n                  广州廿一客食品贸易有限公司\r\n                  <br></br>  \r\n                  举实（上海）食品有限公司\r\n                </p>\r\n              </div>\r\n          \r\n          </div>\r\n        );\r\n      }\r\n}\r\nHome = withRouter(Home)\r\nexport default Home\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}