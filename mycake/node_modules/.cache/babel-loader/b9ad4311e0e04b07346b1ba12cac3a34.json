{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Gesture from 'rc-gesture';\nimport classnames from 'classnames'; // https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n// http://caniuse.com/#search=match\n\nfunction closest(el, selector) {\n  var matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\n\n  while (el) {\n    if (matchesSelector.call(el, selector)) {\n      return el;\n    } else {\n      el = el.parentElement;\n    }\n  }\n\n  return null;\n}\n\nvar Swipeout = function (_React$Component) {\n  _inherits(Swipeout, _React$Component);\n\n  function Swipeout(props) {\n    _classCallCheck(this, Swipeout);\n\n    var _this = _possibleConstructorReturn(this, (Swipeout.__proto__ || Object.getPrototypeOf(Swipeout)).call(this, props));\n\n    _this.onCloseSwipe = function (ev) {\n      if (!(_this.openedLeft || _this.openedRight)) {\n        return;\n      }\n\n      var pNode = closest(ev.target, '.' + _this.props.prefixCls + '-actions');\n\n      if (!pNode) {\n        ev.preventDefault();\n\n        _this.close();\n      }\n    };\n\n    _this.onPanStart = function (e) {\n      var direction = e.direction,\n          moveStatus = e.moveStatus;\n      var deltaX = moveStatus.x; // http://hammerjs.github.io/api/#directions\n\n      var isLeft = direction === 2;\n      var isRight = direction === 4;\n\n      if (!isLeft && !isRight) {\n        return;\n      }\n\n      var _this$props = _this.props,\n          left = _this$props.left,\n          right = _this$props.right;\n      _this.needShowRight = isLeft && right.length > 0;\n      _this.needShowLeft = isRight && left.length > 0;\n\n      if (_this.left) {\n        _this.left.style.visibility = _this.needShowRight ? 'hidden' : 'visible';\n      }\n\n      if (_this.right) {\n        _this.right.style.visibility = _this.needShowLeft ? 'hidden' : 'visible';\n      }\n\n      if (_this.needShowLeft || _this.needShowRight) {\n        _this.swiping = true;\n\n        _this.setState({\n          swiping: _this.swiping\n        });\n\n        _this._setStyle(deltaX);\n      }\n    };\n\n    _this.onPanMove = function (e) {\n      var moveStatus = e.moveStatus,\n          srcEvent = e.srcEvent;\n      var deltaX = moveStatus.x;\n\n      if (!_this.swiping) {\n        return;\n      } // fixed scroll when it's pan and moving.\n\n\n      if (srcEvent && srcEvent.preventDefault) {\n        srcEvent.preventDefault();\n      }\n\n      _this._setStyle(deltaX);\n    };\n\n    _this.onPanEnd = function (e) {\n      if (!_this.swiping) {\n        return;\n      }\n\n      var moveStatus = e.moveStatus;\n      var deltaX = moveStatus.x;\n      var needOpenRight = _this.needShowRight && Math.abs(deltaX) > _this.btnsRightWidth / 2;\n      var needOpenLeft = _this.needShowLeft && Math.abs(deltaX) > _this.btnsLeftWidth / 2;\n\n      if (needOpenRight) {\n        _this.doOpenRight();\n      } else if (needOpenLeft) {\n        _this.doOpenLeft();\n      } else {\n        _this.close();\n      }\n\n      _this.swiping = false;\n\n      _this.setState({\n        swiping: _this.swiping\n      });\n\n      _this.needShowLeft = false;\n      _this.needShowRight = false;\n    };\n\n    _this.doOpenLeft = function () {\n      _this.open(_this.btnsLeftWidth, true, false);\n    };\n\n    _this.doOpenRight = function () {\n      _this.open(-_this.btnsRightWidth, true, false);\n    }; // set content & actions style\n\n\n    _this._setStyle = function (value) {\n      var limit = value > 0 ? _this.btnsLeftWidth : -_this.btnsRightWidth;\n\n      var contentLeft = _this._getContentEasing(value, limit);\n\n      _this.content.style.left = contentLeft + 'px';\n\n      if (_this.cover) {\n        _this.cover.style.display = Math.abs(value) > 0 ? 'block' : 'none';\n        _this.cover.style.left = contentLeft + 'px';\n      }\n    };\n\n    _this.open = function (value, openedLeft, openedRight) {\n      if (!_this.openedLeft && !_this.openedRight && _this.props.onOpen) {\n        _this.props.onOpen();\n      }\n\n      _this.openedLeft = openedLeft;\n      _this.openedRight = openedRight;\n\n      _this._setStyle(value);\n    };\n\n    _this.close = function () {\n      if ((_this.openedLeft || _this.openedRight) && _this.props.onClose) {\n        _this.props.onClose();\n      }\n\n      _this._setStyle(0);\n\n      _this.openedLeft = false;\n      _this.openedRight = false;\n    };\n\n    _this.onTouchMove = function (e) {\n      if (_this.swiping) {\n        e.preventDefault();\n      }\n    };\n\n    _this.state = {\n      swiping: false\n    };\n    _this.openedLeft = false;\n    _this.openedRight = false;\n    return _this;\n  }\n\n  _createClass(Swipeout, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.btnsLeftWidth = this.left ? this.left.offsetWidth : 0;\n      this.btnsRightWidth = this.right ? this.right.offsetWidth : 0;\n      document.body.addEventListener('touchstart', this.onCloseSwipe, true);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.body.removeEventListener('touchstart', this.onCloseSwipe, true);\n    } // left & right button click\n\n  }, {\n    key: 'onBtnClick',\n    value: function onBtnClick(ev, btn) {\n      var onPress = btn.onPress;\n\n      if (onPress) {\n        onPress(ev);\n      }\n\n      if (this.props.autoClose) {\n        this.close();\n      }\n    }\n  }, {\n    key: '_getContentEasing',\n    value: function _getContentEasing(value, limit) {\n      // limit content style left when value > actions width\n      var delta = Math.abs(value) - Math.abs(limit);\n      var isOverflow = delta > 0;\n      var factor = limit > 0 ? 1 : -1;\n\n      if (isOverflow) {\n        value = limit + Math.pow(delta, 0.85) * factor;\n        return Math.abs(value) > Math.abs(limit) ? limit : value;\n      }\n\n      return value;\n    }\n  }, {\n    key: 'renderButtons',\n    value: function renderButtons(buttons, _ref) {\n      var _this2 = this;\n\n      var prefixCls = this.props.prefixCls;\n      return buttons && buttons.length ? React.createElement('div', {\n        className: prefixCls + '-actions ' + prefixCls + '-actions-' + _ref,\n        ref: function ref(el) {\n          return _this2[_ref] = el;\n        }\n      }, buttons.map(function (btn, i) {\n        return React.createElement('div', {\n          key: i,\n          className: prefixCls + '-btn ' + (btn.hasOwnProperty('className') ? btn.className : ''),\n          style: btn.style,\n          role: 'button',\n          onClick: function onClick(e) {\n            return _this2.onBtnClick(e, btn);\n          }\n        }, React.createElement('div', {\n          className: prefixCls + '-btn-text'\n        }, btn.text || 'Click'));\n      })) : null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          left = _a.left,\n          right = _a.right,\n          disabled = _a.disabled,\n          children = _a.children,\n          restProps = __rest(_a, [\"prefixCls\", \"left\", \"right\", \"disabled\", \"children\"]);\n\n      var autoClose = restProps.autoClose,\n          onOpen = restProps.onOpen,\n          onClose = restProps.onClose,\n          divProps = __rest(restProps, [\"autoClose\", \"onOpen\", \"onClose\"]);\n\n      var cls = classnames(prefixCls, _defineProperty({}, prefixCls + '-swiping', this.state.swiping));\n      var refProps = {\n        ref: function ref(el) {\n          return _this3.content = ReactDOM.findDOMNode(el);\n        }\n      };\n      return (left.length || right.length) && !disabled ? React.createElement('div', _extends({\n        className: cls\n      }, divProps), React.createElement('div', {\n        className: prefixCls + '-cover',\n        ref: function ref(el) {\n          return _this3.cover = el;\n        }\n      }), this.renderButtons(left, 'left'), this.renderButtons(right, 'right'), React.createElement(Gesture, _extends({\n        onTouchMove: this.onTouchMove,\n        onPanStart: this.onPanStart,\n        onPanMove: this.onPanMove,\n        onPanEnd: this.onPanEnd,\n        onPanCancel: this.onPanEnd,\n        onSwipeLeft: this.doOpenRight,\n        onSwipeRight: this.doOpenLeft,\n        direction: 'horizontal'\n      }, refProps), React.createElement('div', {\n        className: prefixCls + '-content'\n      }, children))) : React.createElement('div', _extends({}, refProps, divProps), children);\n    }\n  }]);\n\n  return Swipeout;\n}(React.Component);\n\nexport default Swipeout;\nSwipeout.defaultProps = {\n  prefixCls: 'rc-swipeout',\n  autoClose: false,\n  disabled: false,\n  left: [],\n  right: [],\n  onOpen: function onOpen() {},\n  onClose: function onClose() {}\n};","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/rc-swipeout/es/Swipeout.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","ReactDOM","Gesture","classnames","closest","el","selector","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentElement","Swipeout","_React$Component","props","_this","__proto__","getPrototypeOf","onCloseSwipe","ev","openedLeft","openedRight","pNode","target","prefixCls","preventDefault","close","onPanStart","direction","moveStatus","deltaX","x","isLeft","isRight","_this$props","left","right","needShowRight","needShowLeft","style","visibility","swiping","setState","_setStyle","onPanMove","srcEvent","onPanEnd","needOpenRight","Math","abs","btnsRightWidth","needOpenLeft","btnsLeftWidth","doOpenRight","doOpenLeft","open","value","limit","contentLeft","_getContentEasing","content","cover","display","onOpen","onClose","onTouchMove","state","key","componentDidMount","offsetWidth","document","body","addEventListener","componentWillUnmount","removeEventListener","onBtnClick","btn","onPress","autoClose","delta","isOverflow","factor","pow","renderButtons","buttons","_ref","_this2","createElement","className","ref","map","role","onClick","text","render","_this3","_a","disabled","children","restProps","divProps","cls","refProps","findDOMNode","onPanCancel","onSwipeLeft","onSwipeRight","Component","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Gesture from 'rc-gesture';\nimport classnames from 'classnames';\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n// http://caniuse.com/#search=match\nfunction closest(el, selector) {\n    var matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\n    while (el) {\n        if (matchesSelector.call(el, selector)) {\n            return el;\n        } else {\n            el = el.parentElement;\n        }\n    }\n    return null;\n}\n\nvar Swipeout = function (_React$Component) {\n    _inherits(Swipeout, _React$Component);\n\n    function Swipeout(props) {\n        _classCallCheck(this, Swipeout);\n\n        var _this = _possibleConstructorReturn(this, (Swipeout.__proto__ || Object.getPrototypeOf(Swipeout)).call(this, props));\n\n        _this.onCloseSwipe = function (ev) {\n            if (!(_this.openedLeft || _this.openedRight)) {\n                return;\n            }\n            var pNode = closest(ev.target, '.' + _this.props.prefixCls + '-actions');\n            if (!pNode) {\n                ev.preventDefault();\n                _this.close();\n            }\n        };\n        _this.onPanStart = function (e) {\n            var direction = e.direction,\n                moveStatus = e.moveStatus;\n            var deltaX = moveStatus.x;\n            // http://hammerjs.github.io/api/#directions\n\n            var isLeft = direction === 2;\n            var isRight = direction === 4;\n            if (!isLeft && !isRight) {\n                return;\n            }\n            var _this$props = _this.props,\n                left = _this$props.left,\n                right = _this$props.right;\n\n            _this.needShowRight = isLeft && right.length > 0;\n            _this.needShowLeft = isRight && left.length > 0;\n            if (_this.left) {\n                _this.left.style.visibility = _this.needShowRight ? 'hidden' : 'visible';\n            }\n            if (_this.right) {\n                _this.right.style.visibility = _this.needShowLeft ? 'hidden' : 'visible';\n            }\n            if (_this.needShowLeft || _this.needShowRight) {\n                _this.swiping = true;\n                _this.setState({\n                    swiping: _this.swiping\n                });\n                _this._setStyle(deltaX);\n            }\n        };\n        _this.onPanMove = function (e) {\n            var moveStatus = e.moveStatus,\n                srcEvent = e.srcEvent;\n            var deltaX = moveStatus.x;\n\n            if (!_this.swiping) {\n                return;\n            }\n            // fixed scroll when it's pan and moving.\n            if (srcEvent && srcEvent.preventDefault) {\n                srcEvent.preventDefault();\n            }\n            _this._setStyle(deltaX);\n        };\n        _this.onPanEnd = function (e) {\n            if (!_this.swiping) {\n                return;\n            }\n            var moveStatus = e.moveStatus;\n            var deltaX = moveStatus.x;\n\n            var needOpenRight = _this.needShowRight && Math.abs(deltaX) > _this.btnsRightWidth / 2;\n            var needOpenLeft = _this.needShowLeft && Math.abs(deltaX) > _this.btnsLeftWidth / 2;\n            if (needOpenRight) {\n                _this.doOpenRight();\n            } else if (needOpenLeft) {\n                _this.doOpenLeft();\n            } else {\n                _this.close();\n            }\n            _this.swiping = false;\n            _this.setState({\n                swiping: _this.swiping\n            });\n            _this.needShowLeft = false;\n            _this.needShowRight = false;\n        };\n        _this.doOpenLeft = function () {\n            _this.open(_this.btnsLeftWidth, true, false);\n        };\n        _this.doOpenRight = function () {\n            _this.open(-_this.btnsRightWidth, true, false);\n        };\n        // set content & actions style\n        _this._setStyle = function (value) {\n            var limit = value > 0 ? _this.btnsLeftWidth : -_this.btnsRightWidth;\n            var contentLeft = _this._getContentEasing(value, limit);\n            _this.content.style.left = contentLeft + 'px';\n            if (_this.cover) {\n                _this.cover.style.display = Math.abs(value) > 0 ? 'block' : 'none';\n                _this.cover.style.left = contentLeft + 'px';\n            }\n        };\n        _this.open = function (value, openedLeft, openedRight) {\n            if (!_this.openedLeft && !_this.openedRight && _this.props.onOpen) {\n                _this.props.onOpen();\n            }\n            _this.openedLeft = openedLeft;\n            _this.openedRight = openedRight;\n            _this._setStyle(value);\n        };\n        _this.close = function () {\n            if ((_this.openedLeft || _this.openedRight) && _this.props.onClose) {\n                _this.props.onClose();\n            }\n            _this._setStyle(0);\n            _this.openedLeft = false;\n            _this.openedRight = false;\n        };\n        _this.onTouchMove = function (e) {\n            if (_this.swiping) {\n                e.preventDefault();\n            }\n        };\n        _this.state = {\n            swiping: false\n        };\n        _this.openedLeft = false;\n        _this.openedRight = false;\n        return _this;\n    }\n\n    _createClass(Swipeout, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.btnsLeftWidth = this.left ? this.left.offsetWidth : 0;\n            this.btnsRightWidth = this.right ? this.right.offsetWidth : 0;\n            document.body.addEventListener('touchstart', this.onCloseSwipe, true);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            document.body.removeEventListener('touchstart', this.onCloseSwipe, true);\n        }\n        // left & right button click\n\n    }, {\n        key: 'onBtnClick',\n        value: function onBtnClick(ev, btn) {\n            var onPress = btn.onPress;\n            if (onPress) {\n                onPress(ev);\n            }\n            if (this.props.autoClose) {\n                this.close();\n            }\n        }\n    }, {\n        key: '_getContentEasing',\n        value: function _getContentEasing(value, limit) {\n            // limit content style left when value > actions width\n            var delta = Math.abs(value) - Math.abs(limit);\n            var isOverflow = delta > 0;\n            var factor = limit > 0 ? 1 : -1;\n            if (isOverflow) {\n                value = limit + Math.pow(delta, 0.85) * factor;\n                return Math.abs(value) > Math.abs(limit) ? limit : value;\n            }\n            return value;\n        }\n    }, {\n        key: 'renderButtons',\n        value: function renderButtons(buttons, _ref) {\n            var _this2 = this;\n\n            var prefixCls = this.props.prefixCls;\n            return buttons && buttons.length ? React.createElement(\n                'div',\n                { className: prefixCls + '-actions ' + prefixCls + '-actions-' + _ref, ref: function ref(el) {\n                        return _this2[_ref] = el;\n                    } },\n                buttons.map(function (btn, i) {\n                    return React.createElement(\n                        'div',\n                        { key: i, className: prefixCls + '-btn ' + (btn.hasOwnProperty('className') ? btn.className : ''), style: btn.style, role: 'button', onClick: function onClick(e) {\n                                return _this2.onBtnClick(e, btn);\n                            } },\n                        React.createElement(\n                            'div',\n                            { className: prefixCls + '-btn-text' },\n                            btn.text || 'Click'\n                        )\n                    );\n                })\n            ) : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                left = _a.left,\n                right = _a.right,\n                disabled = _a.disabled,\n                children = _a.children,\n                restProps = __rest(_a, [\"prefixCls\", \"left\", \"right\", \"disabled\", \"children\"]);\n            var autoClose = restProps.autoClose,\n                onOpen = restProps.onOpen,\n                onClose = restProps.onClose,\n                divProps = __rest(restProps, [\"autoClose\", \"onOpen\", \"onClose\"]);\n\n            var cls = classnames(prefixCls, _defineProperty({}, prefixCls + '-swiping', this.state.swiping));\n            var refProps = {\n                ref: function ref(el) {\n                    return _this3.content = ReactDOM.findDOMNode(el);\n                }\n            };\n            return (left.length || right.length) && !disabled ? React.createElement(\n                'div',\n                _extends({ className: cls }, divProps),\n                React.createElement('div', { className: prefixCls + '-cover', ref: function ref(el) {\n                        return _this3.cover = el;\n                    } }),\n                this.renderButtons(left, 'left'),\n                this.renderButtons(right, 'right'),\n                React.createElement(\n                    Gesture,\n                    _extends({ onTouchMove: this.onTouchMove, onPanStart: this.onPanStart, onPanMove: this.onPanMove, onPanEnd: this.onPanEnd, onPanCancel: this.onPanEnd, onSwipeLeft: this.doOpenRight, onSwipeRight: this.doOpenLeft, direction: 'horizontal' }, refProps),\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-content' },\n                        children\n                    )\n                )\n            ) : React.createElement(\n                'div',\n                _extends({}, refProps, divProps),\n                children\n            );\n        }\n    }]);\n\n    return Swipeout;\n}(React.Component);\n\nexport default Swipeout;\n\nSwipeout.defaultProps = {\n    prefixCls: 'rc-swipeout',\n    autoClose: false,\n    disabled: false,\n    left: [],\n    right: [],\n    onOpen: function onOpen() {},\n    onClose: function onClose() {}\n};"]},"metadata":{},"sourceType":"module"}