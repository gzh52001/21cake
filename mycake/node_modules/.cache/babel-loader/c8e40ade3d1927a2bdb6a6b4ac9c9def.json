{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Component from './DatePicker.base';\nimport WeekPanel from './date/WeekPanel';\nimport SingleMonth from './date/SingleMonth';\n\nvar DatePicker = function (_Component) {\n  _inherits(DatePicker, _Component);\n\n  function DatePicker() {\n    _classCallCheck(this, DatePicker);\n\n    var _this = _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\n    _this.transform = '';\n\n    _this.genMonthComponent = function (data) {\n      if (!data) return;\n      return React.createElement(SingleMonth, {\n        key: data.title,\n        locale: _this.props.locale || {},\n        monthData: data,\n        rowSize: _this.props.rowSize,\n        onCellClick: _this.onCellClick,\n        getDateExtra: _this.props.getDateExtra,\n        ref: function ref(dom) {\n          // FIXME?: sometimes will callback twice, and the second is null, when use preact.\n          data.componentRef = dom || data.componentRef || undefined;\n\n          data.updateLayout = function () {\n            _this.computeHeight(data, dom);\n          };\n\n          data.updateLayout();\n        }\n      });\n    };\n\n    _this.computeHeight = function (data, singleMonth) {\n      if (singleMonth && singleMonth.wrapperDivDOM) {\n        // preact, ref时dom有可能无height, offsetTop数据。\n        if (!data.height && !singleMonth.wrapperDivDOM.clientHeight) {\n          setTimeout(function () {\n            return _this.computeHeight(data, singleMonth);\n          }, 500);\n          return;\n        }\n\n        data.height = singleMonth.wrapperDivDOM.clientHeight || data.height || 0;\n        data.y = singleMonth.wrapperDivDOM.offsetTop || data.y || 0;\n      }\n    };\n\n    _this.setLayout = function (dom) {\n      if (dom) {\n        var onLayout = _this.props.onLayout;\n        onLayout && onLayout(dom.clientHeight);\n\n        var scrollHandler = _this.createOnScroll();\n\n        dom.onscroll = function (evt) {\n          scrollHandler({\n            client: dom.clientHeight,\n            full: evt.currentTarget.clientHeight,\n            top: evt.currentTarget.scrollTop\n          });\n        };\n      }\n    };\n\n    _this.setPanel = function (dom) {\n      _this.panel = dom;\n    }; // tslint:disable-next-line:member-ordering\n\n\n    _this.touchHandler = function () {\n      var initDelta = 0;\n      var lastY = 0;\n      var delta = initDelta;\n      return {\n        onTouchStart: function onTouchStart(evt) {\n          lastY = evt.touches[0].screenY;\n          delta = initDelta;\n        },\n        onTouchMove: function onTouchMove(evt) {\n          var ele = evt.currentTarget;\n          var isReachTop = ele.scrollTop === 0;\n\n          if (isReachTop) {\n            delta = evt.touches[0].screenY - lastY;\n\n            if (delta > 0) {\n              evt.preventDefault();\n\n              if (delta > 80) {\n                delta = 80;\n              }\n            } else {\n              delta = 0;\n            }\n\n            _this.setTransform(_this.panel.style, 'translate3d(0,' + delta + 'px,0)');\n          }\n        },\n        onTouchEnd: function onTouchEnd() {\n          _this.touchHandler.onFinish();\n        },\n        onTouchCancel: function onTouchCancel() {\n          _this.touchHandler.onFinish();\n        },\n        onFinish: function onFinish() {\n          if (delta > 40 && _this.canLoadPrev()) {\n            _this.genMonthData(_this.state.months[0].firstDate, -1);\n\n            _this.visibleMonth = _this.state.months.slice(0, _this.props.initalMonths);\n\n            _this.state.months.forEach(function (m) {\n              m.updateLayout && m.updateLayout();\n            });\n\n            _this.forceUpdate();\n          }\n\n          _this.setTransform(_this.panel.style, 'translate3d(0,0,0)');\n\n          _this.setTransition(_this.panel.style, '.3s');\n\n          setTimeout(function () {\n            _this.panel && _this.setTransition(_this.panel.style, '');\n          }, 300);\n        }\n      };\n    }();\n\n    return _this;\n  }\n\n  DatePicker.prototype.setTransform = function setTransform(nodeStyle, value) {\n    this.transform = value;\n    nodeStyle.transform = value;\n    nodeStyle.webkitTransform = value;\n  };\n\n  DatePicker.prototype.setTransition = function setTransition(nodeStyle, value) {\n    nodeStyle.transition = value;\n    nodeStyle.webkitTransition = value;\n  };\n\n  DatePicker.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        _props$prefixCls = _props.prefixCls,\n        prefixCls = _props$prefixCls === undefined ? '' : _props$prefixCls,\n        _props$locale = _props.locale,\n        locale = _props$locale === undefined ? {} : _props$locale;\n    var style = {\n      transform: this.transform\n    };\n    return React.createElement('div', {\n      className: prefixCls + ' date-picker'\n    }, React.createElement(WeekPanel, {\n      locale: locale\n    }), React.createElement('div', {\n      className: 'wrapper',\n      style: {\n        overflowX: 'hidden',\n        overflowY: 'visible'\n      },\n      ref: this.setLayout,\n      onTouchStart: this.touchHandler.onTouchStart,\n      onTouchMove: this.touchHandler.onTouchMove,\n      onTouchEnd: this.touchHandler.onTouchEnd,\n      onTouchCancel: this.touchHandler.onTouchCancel\n    }, React.createElement('div', {\n      style: style,\n      ref: this.setPanel\n    }, this.canLoadPrev() && React.createElement('div', {\n      className: 'load-tip'\n    }, locale.loadPrevMonth), React.createElement('div', {\n      className: 'months'\n    }, this.state.months.map(function (m) {\n      var hidden = m.height && _this2.visibleMonth.indexOf(m) < 0;\n\n      if (hidden) {\n        return React.createElement('div', {\n          key: m.title + '_shallow',\n          style: {\n            height: m.height\n          }\n        });\n      }\n\n      return m.component;\n    })))));\n  };\n\n  return DatePicker;\n}(Component);\n\nexport default DatePicker;","map":{"version":3,"sources":["F:/1111111111/demo2/线下三阶段/三阶段小组项目/react/21cake/mycake/node_modules/rmc-calendar/es/DatePicker.js"],"names":["_classCallCheck","_possibleConstructorReturn","_inherits","React","Component","WeekPanel","SingleMonth","DatePicker","_Component","_this","apply","arguments","transform","genMonthComponent","data","createElement","key","title","locale","props","monthData","rowSize","onCellClick","getDateExtra","ref","dom","componentRef","undefined","updateLayout","computeHeight","singleMonth","wrapperDivDOM","height","clientHeight","setTimeout","y","offsetTop","setLayout","onLayout","scrollHandler","createOnScroll","onscroll","evt","client","full","currentTarget","top","scrollTop","setPanel","panel","touchHandler","initDelta","lastY","delta","onTouchStart","touches","screenY","onTouchMove","ele","isReachTop","preventDefault","setTransform","style","onTouchEnd","onFinish","onTouchCancel","canLoadPrev","genMonthData","state","months","firstDate","visibleMonth","slice","initalMonths","forEach","m","forceUpdate","setTransition","prototype","nodeStyle","value","webkitTransform","transition","webkitTransition","render","_this2","_props","_props$prefixCls","prefixCls","_props$locale","className","overflowX","overflowY","loadPrevMonth","map","hidden","indexOf","component"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Component from './DatePicker.base';\nimport WeekPanel from './date/WeekPanel';\nimport SingleMonth from './date/SingleMonth';\n\nvar DatePicker = function (_Component) {\n    _inherits(DatePicker, _Component);\n\n    function DatePicker() {\n        _classCallCheck(this, DatePicker);\n\n        var _this = _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\n        _this.transform = '';\n        _this.genMonthComponent = function (data) {\n            if (!data) return;\n            return React.createElement(SingleMonth, { key: data.title, locale: _this.props.locale || {}, monthData: data, rowSize: _this.props.rowSize, onCellClick: _this.onCellClick, getDateExtra: _this.props.getDateExtra, ref: function ref(dom) {\n                    // FIXME?: sometimes will callback twice, and the second is null, when use preact.\n                    data.componentRef = dom || data.componentRef || undefined;\n                    data.updateLayout = function () {\n                        _this.computeHeight(data, dom);\n                    };\n                    data.updateLayout();\n                } });\n        };\n        _this.computeHeight = function (data, singleMonth) {\n            if (singleMonth && singleMonth.wrapperDivDOM) {\n                // preact, ref时dom有可能无height, offsetTop数据。\n                if (!data.height && !singleMonth.wrapperDivDOM.clientHeight) {\n                    setTimeout(function () {\n                        return _this.computeHeight(data, singleMonth);\n                    }, 500);\n                    return;\n                }\n                data.height = singleMonth.wrapperDivDOM.clientHeight || data.height || 0;\n                data.y = singleMonth.wrapperDivDOM.offsetTop || data.y || 0;\n            }\n        };\n        _this.setLayout = function (dom) {\n            if (dom) {\n                var onLayout = _this.props.onLayout;\n\n                onLayout && onLayout(dom.clientHeight);\n                var scrollHandler = _this.createOnScroll();\n                dom.onscroll = function (evt) {\n                    scrollHandler({\n                        client: dom.clientHeight,\n                        full: evt.currentTarget.clientHeight,\n                        top: evt.currentTarget.scrollTop\n                    });\n                };\n            }\n        };\n        _this.setPanel = function (dom) {\n            _this.panel = dom;\n        };\n        // tslint:disable-next-line:member-ordering\n        _this.touchHandler = function () {\n            var initDelta = 0;\n            var lastY = 0;\n            var delta = initDelta;\n            return {\n                onTouchStart: function onTouchStart(evt) {\n                    lastY = evt.touches[0].screenY;\n                    delta = initDelta;\n                },\n                onTouchMove: function onTouchMove(evt) {\n                    var ele = evt.currentTarget;\n                    var isReachTop = ele.scrollTop === 0;\n                    if (isReachTop) {\n                        delta = evt.touches[0].screenY - lastY;\n                        if (delta > 0) {\n                            evt.preventDefault();\n                            if (delta > 80) {\n                                delta = 80;\n                            }\n                        } else {\n                            delta = 0;\n                        }\n                        _this.setTransform(_this.panel.style, 'translate3d(0,' + delta + 'px,0)');\n                    }\n                },\n                onTouchEnd: function onTouchEnd() {\n                    _this.touchHandler.onFinish();\n                },\n                onTouchCancel: function onTouchCancel() {\n                    _this.touchHandler.onFinish();\n                },\n                onFinish: function onFinish() {\n                    if (delta > 40 && _this.canLoadPrev()) {\n                        _this.genMonthData(_this.state.months[0].firstDate, -1);\n                        _this.visibleMonth = _this.state.months.slice(0, _this.props.initalMonths);\n                        _this.state.months.forEach(function (m) {\n                            m.updateLayout && m.updateLayout();\n                        });\n                        _this.forceUpdate();\n                    }\n                    _this.setTransform(_this.panel.style, 'translate3d(0,0,0)');\n                    _this.setTransition(_this.panel.style, '.3s');\n                    setTimeout(function () {\n                        _this.panel && _this.setTransition(_this.panel.style, '');\n                    }, 300);\n                }\n            };\n        }();\n        return _this;\n    }\n\n    DatePicker.prototype.setTransform = function setTransform(nodeStyle, value) {\n        this.transform = value;\n        nodeStyle.transform = value;\n        nodeStyle.webkitTransform = value;\n    };\n\n    DatePicker.prototype.setTransition = function setTransition(nodeStyle, value) {\n        nodeStyle.transition = value;\n        nodeStyle.webkitTransition = value;\n    };\n\n    DatePicker.prototype.render = function render() {\n        var _this2 = this;\n\n        var _props = this.props,\n            _props$prefixCls = _props.prefixCls,\n            prefixCls = _props$prefixCls === undefined ? '' : _props$prefixCls,\n            _props$locale = _props.locale,\n            locale = _props$locale === undefined ? {} : _props$locale;\n\n        var style = {\n            transform: this.transform\n        };\n        return React.createElement(\n            'div',\n            { className: prefixCls + ' date-picker' },\n            React.createElement(WeekPanel, { locale: locale }),\n            React.createElement(\n                'div',\n                { className: 'wrapper', style: {\n                        overflowX: 'hidden',\n                        overflowY: 'visible'\n                    }, ref: this.setLayout, onTouchStart: this.touchHandler.onTouchStart, onTouchMove: this.touchHandler.onTouchMove, onTouchEnd: this.touchHandler.onTouchEnd, onTouchCancel: this.touchHandler.onTouchCancel },\n                React.createElement(\n                    'div',\n                    { style: style, ref: this.setPanel },\n                    this.canLoadPrev() && React.createElement(\n                        'div',\n                        { className: 'load-tip' },\n                        locale.loadPrevMonth\n                    ),\n                    React.createElement(\n                        'div',\n                        { className: 'months' },\n                        this.state.months.map(function (m) {\n                            var hidden = m.height && _this2.visibleMonth.indexOf(m) < 0;\n                            if (hidden) {\n                                return React.createElement('div', { key: m.title + '_shallow', style: { height: m.height } });\n                            }\n                            return m.component;\n                        })\n                    )\n                )\n            )\n        );\n    };\n\n    return DatePicker;\n}(Component);\n\nexport default DatePicker;"]},"metadata":{},"sourceType":"module"}